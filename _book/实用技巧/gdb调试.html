
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>gdb调试 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="linux常用网络工具.html" />
    
    
    <link rel="prev" href="网络抓包.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../网络编程/">
            
                <a href="../网络编程/">
            
                    
                    网络编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../网络编程/游戏服务器架构与设计.html">
            
                <a href="../网络编程/游戏服务器架构与设计.html">
            
                    
                    游戏服务器架构与设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../网络编程/linux多线程服务器编程.html">
            
                <a href="../网络编程/linux多线程服务器编程.html">
            
                    
                    linux多线程服务器编程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../程序设计与架构/">
            
                <a href="../程序设计与架构/">
            
                    
                    程序设计与架构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../程序设计与架构/大规模C++程序设计.html">
            
                <a href="../程序设计与架构/大规模C++程序设计.html">
            
                    
                    大规模C++程序设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    实用技巧
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="网络抓包.html">
            
                <a href="网络抓包.html">
            
                    
                    网络抓包
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.2" data-path="gdb调试.html">
            
                <a href="gdb调试.html">
            
                    
                    gdb调试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="linux常用网络工具.html">
            
                <a href="linux常用网络工具.html">
            
                    
                    linux常用网络工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="linux常用服务的部署,md.html">
            
                <a href="linux常用服务的部署,md.html">
            
                    
                    Linux常用服务的部署
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >gdb调试</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>[TOC]</p>
<h1 id="&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x4E0E;&#x8C03;&#x8BD5;&#x539F;&#x7406;">&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x4E0E;&#x8C03;&#x8BD5;&#x539F;&#x7406;</h1>
<p>&#x5982;&#x4F55;&#x5224;&#x65AD; hello_server &#x662F;&#x5426;&#x5E26;&#x6709;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x5462;&#xFF1F;gdb &#x52A0;&#x8F7D;&#x6210;&#x529F;&#x4EE5;&#x540E;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre><code>Reading symbols **from** /root/testclient/hello_server...done.
</code></pre><p>&#x5373;&#x8BFB;&#x53D6;&#x7B26;&#x53F7;&#x6587;&#x4EF6;&#x5B8C;&#x6BD5;&#xFF0C;&#x8BF4;&#x660E;&#x8BE5;&#x7A0B;&#x5E8F;&#x542B;&#x6709;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x3002;&#x6211;&#x4EEC;&#x4E0D;&#x52A0; <strong>-g</strong> &#x9009;&#x9879;&#x518D;&#x8BD5;&#x8BD5;&#xFF1A;</p>
<pre><code>Reading symbols from /root/testclient/hello_server2...(no debugging symbols found)...done.
</code></pre><p>&#x987A;&#x4FBF;&#x63D0;&#x4E00;&#x4E0B;&#xFF0C;&#x9664;&#x4E86;&#x4E0D;&#x52A0; -g &#x9009;&#x9879;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Linux &#x7684; strip &#x547D;&#x4EE4;&#x79FB;&#x9664;&#x6389;&#x67D0;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x5BF9; hello_server &#x4F7F;&#x7528; strip &#x547D;&#x4EE4;&#x8BD5;&#x8BD5;&#xFF1A;</p>
<pre><code>[root@localhost testclient]# strip hello_server
##&#x4F7F;&#x7528; strip &#x547D;&#x4EE4;&#x4E4B;&#x524D;
-rwxr-xr-x. 1 root root 12416 Sep 8 09:45 hello_server
##&#x4F7F;&#x7528; strip &#x547D;&#x4EE4;&#x4E4B;&#x540E;
-rwxr-xr-x. 1 root root 6312 Sep 8 09:55 hello_server
</code></pre><p>&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x5BF9; hello_server &#x4F7F;&#x7528; strip &#x547D;&#x4EE4;&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x660E;&#x663E;&#x53D8;&#x5C0F;&#x4E86;&#xFF08;&#x7531; 12416 &#x4E2A;&#x5B57;&#x8282;&#x51CF;&#x5C11;&#x4E3A; 6312 &#x4E2A;&#x5B57;&#x8282;&#xFF09;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x4F1A;&#x5728;&#x7A0B;&#x5E8F;&#x6D4B;&#x8BD5;&#x6CA1;&#x95EE;&#x9898;&#x4EE5;&#x540E;&#xFF0C;&#x5C06;&#x5176;&#x53D1;&#x5E03;&#x5230;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6216;&#x8005;&#x6B63;&#x5F0F;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x751F;&#x6210;&#x4E0D;&#x5E26;&#x8C03;&#x8BD5;&#x7B26;&#x53F7;&#x4FE1;&#x606F;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x4EE5;&#x51CF;&#x5C0F;&#x7A0B;&#x5E8F;&#x4F53;&#x79EF;&#x6216;&#x63D0;&#x9AD8;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x6548;&#x7387;&#x3002;</p>
<p>&#x53E6;&#x5916;&#x8865;&#x5145;&#x4E24;&#x70B9;&#x8BF4;&#x660E;&#xFF1A;</p>
<ul>
<li><p>&#x672C;&#x8BFE;&#x7A0B;&#x91CC;&#x867D;&#x7136;&#x4EE5; gcc &#x4E3A;&#x4F8B;&#xFF0C;&#x4F46; -g &#x9009;&#x9879;&#x5B9E;&#x9645;&#x4E0A;&#x540C;&#x6837;&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x4F7F;&#x7528; makefile &#x3001;cmake &#x7B49;&#x5DE5;&#x5177;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#x7684; Linux &#x7A0B;&#x5E8F;&#x3002;</p>
</li>
<li><p>&#x5728;&#x5B9E;&#x9645;&#x751F;&#x6210;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x4EC5;&#x8981;&#x52A0;&#x4E0A; -g &#x9009;&#x9879;&#xFF0C;&#x4E5F;&#x5EFA;&#x8BAE;&#x5173;&#x95ED;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x7A0B;&#x5E8F;&#x4F18;&#x5316;&#x9009;&#x9879;&#x3002;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x7A0B;&#x5E8F;&#x4F18;&#x5316;&#x9009;&#x9879;&#x4E00;&#x822C;&#x6709;&#x4E94;&#x4E2A;&#x7EA7;&#x522B;&#xFF0C;&#x4ECE; O0 ~ O4 &#xFF08; &#x6CE8;&#x610F;&#x7B2C;&#x4E00;&#x4E2A; O0 &#xFF0C;&#x662F;&#x5B57;&#x6BCD; O &#x52A0;&#x4E0A;&#x6570;&#x5B57; 0 &#xFF09;&#xFF0C; O0 &#x8868;&#x793A;&#x4E0D;&#x4F18;&#x5316;&#xFF0C;&#x4ECE; O1 ~ O4 &#x4F18;&#x5316;&#x7EA7;&#x522B;&#x8D8A;&#x6765;&#x8D8A;&#x9AD8;&#xFF0C;O4 &#x6700;&#x9AD8;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x8C03;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7B26;&#x53F7;&#x6587;&#x4EF6;&#x663E;&#x793A;&#x7684;&#x8C03;&#x8BD5;&#x53D8;&#x91CF;&#x7B49;&#x80FD;&#x4E0E;&#x6E90;&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x5BF9;&#x5E94;&#x8D77;&#x6765;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x8BBE;&#x6709;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<blockquote>
<p>&#x603B;&#x4E4B;&#x4E00;&#x53E5;&#x8BDD;&#xFF0C;<strong>&#x5EFA;&#x8BAE;&#x751F;&#x6210;&#x8C03;&#x8BD5;&#x6587;&#x4EF6;&#x65F6;&#x5173;&#x95ED;&#x7F16;&#x8BD1;&#x5668;&#x4F18;&#x5316;&#x9009;&#x9879;</strong>&#x3002;</p>
</blockquote>
</li>
</ul>
<h1 id="&#x542F;&#x52A8;-gdb-&#x8C03;&#x8BD5;">&#x542F;&#x52A8; GDB &#x8C03;&#x8BD5;</h1>
<h2 id="&#x76F4;&#x63A5;&#x8C03;&#x8BD5;&#x76EE;&#x6807;&#x7A0B;&#x5E8F;">&#x76F4;&#x63A5;&#x8C03;&#x8BD5;&#x76EE;&#x6807;&#x7A0B;&#x5E8F;</h2>
<pre><code class="lang-shell"> gdb filename
</code></pre>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>gdb filename</strong> &#x76F4;&#x63A5;&#x542F;&#x52A8;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x8C03;&#x8BD5;&#xFF0C;&#x5176;&#x4E2D; <strong>filename</strong> &#x662F;&#x9700;&#x8981;&#x542F;&#x52A8;&#x7684;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528; GDB &#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#x3002;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x8BF4;&#x7684;<strong>&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x8C03;&#x8BD5;</strong>&#x5176;&#x5B9E;&#x4E0D;&#x4E25;&#x8C28;&#xFF0C;&#x56E0;&#x4E3A;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x662F;&#x9644;&#x52A0;&#xFF08;attach&#xFF09;&#x4E86;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x628A;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x8D77;&#x6765;&#xFF1B;&#x63A5;&#x7740;&#x9700;&#x8981;&#x8F93;&#x5165;<strong>run</strong> &#x547D;&#x4EE4;&#xFF0C;&#x7A0B;&#x5E8F;&#x624D;&#x4F1A;&#x771F;&#x6B63;&#x7684;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x3002;</p>
<h2 id="&#x9644;&#x52A0;&#x8FDB;&#x7A0B;">&#x9644;&#x52A0;&#x8FDB;&#x7A0B;</h2>
<pre><code class="lang-shell">gdb attach &#x8FDB;&#x7A0B; ID
</code></pre>
<p>&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5DF2;&#x7ECF;&#x542F;&#x52A8;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x8C03;&#x8BD5;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F46;&#x662F;&#x53C8;&#x4E0D;&#x60F3;&#x91CD;&#x542F;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x3002;&#x5047;&#x8BBE;&#x6709;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x804A;&#x5929;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#xFF0C;&#x8FD0;&#x884C;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x804A;&#x5929;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x63A5;&#x53D7;&#x65B0;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x80AF;&#x5B9A;&#x662F;&#x4E0D;&#x80FD;&#x91CD;&#x542F;&#x7A0B;&#x5E8F;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x91CD;&#x542F;&#xFF0C;&#x5F53;&#x524D;&#x7A0B;&#x5E8F;&#x7684;&#x5404;&#x79CD;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x5C31;&#x4E22;&#x5931;&#x4E86;&#x3002;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>gdb attach &#x8FDB;&#x7A0B; ID</strong> &#x6765;&#x5C06; GDB &#x8C03;&#x8BD5;&#x5668;&#x9644;&#x52A0;&#x5230;&#x804A;&#x5929;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x4E0A;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5047;&#x8BBE;&#x804A;&#x5929;&#x7A0B;&#x5E8F;&#x53EB; chatserver&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ps &#x547D;&#x4EE4;&#x83B7;&#x53D6;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684; PID&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; gdb attach &#x5C31;&#x53EF;&#x4EE5;&#x8C03;&#x8BD5;&#x4E86;&#xFF0C;&#x64CD;&#x4F5C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>[zhangyl@iZ238vnojlyZ flamingoserver]$ ps -ef | grep chatserver
zhangyl  21462 21414  0 18:00 pts/2    00:00:00 grep --color=auto chatserver
zhangyl  26621     1  5 Oct10 ?        2-17:54:42 ./chatserver -d
</code></pre><p>&#x5B9E;&#x9645;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="https://images.gitbook.cn/ca090200-fc3e-11e8-9fb2-0bb0adb1f496" alt="enter image description here"></p>
<p>&#x901A;&#x8FC7;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x5F97;&#x5230; chatserver &#x7684; PID &#x4E3A; 26621&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; <strong>gdb attach 26621</strong> &#x628A; GDB &#x9644;&#x52A0;&#x5230; chatserver &#x8FDB;&#x7A0B;&#x3002;<strong>&#x5F53;&#x63D0;&#x793A; &#x201C;Attaching to process 26621&#x201D; &#x65F6;&#x5C31;&#x8BF4;&#x660E;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5730;&#x5C06; GDB &#x9644;&#x52A0;&#x5230;&#x76EE;&#x6807;&#x8FDB;&#x7A0B;&#x4E86;&#x3002;</strong>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E9B;&#x7CFB;&#x7EDF;&#x5E93;&#xFF08;&#x5982; libc.so&#xFF09;&#xFF0C;&#x7531;&#x4E8E;&#x8FD9;&#x662F;&#x53D1;&#x884C;&#x7248;&#x672C;&#x7684; Linux &#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x4E9B;&#x5E93;&#x662F;&#x6CA1;&#x6709;&#x8C03;&#x8BD5;&#x7B26;&#x53F7;&#x7684;&#xFF0C;&#x56E0;&#x800C; GDB &#x4F1A;&#x63D0;&#x793A;&#x627E;&#x4E0D;&#x5230;&#x8FD9;&#x4E9B;&#x5E93;&#x7684;&#x8C03;&#x8BD5;&#x7B26;&#x53F7;&#x3002;&#x56E0;&#x4E3A;&#x76EE;&#x7684;&#x662F;&#x8C03;&#x8BD5; chatserver&#xFF0C;&#x5BF9;&#x7CFB;&#x7EDF; API &#x8C03;&#x7528;&#x7684;&#x5185;&#x90E8;&#x5B9E;&#x73B0;&#x5E76;&#x4E0D;&#x5173;&#x6CE8;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x63D0;&#x793A;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x5173;&#x6CE8;&#xFF0C;&#x53EA;&#x8981; chatserver &#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x6709;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x5F53;&#x8C03;&#x8BD5;&#x5B8C;&#x7A0B;&#x5E8F;&#x60F3;&#x7ED3;&#x675F;&#x6B64;&#x6B21;&#x8C03;&#x8BD5;&#x65F6;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x5BF9;&#x5F53;&#x524D;&#x8FDB;&#x7A0B; chatserver &#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x60F3;&#x8BA9;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; GDB &#x7684;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;&#x8F93;&#x5165; detach &#x547D;&#x4EE4;&#x8BA9;&#x7A0B;&#x5E8F;&#x4E0E; GDB &#x8C03;&#x8BD5;&#x5668;&#x5206;&#x79BB;&#xFF0C;&#x8FD9;&#x6837; chatserver &#x5C31;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x4E86;&#xFF1A;</p>
<pre><code>(gdb) detach
Detaching from program: /home/zhangyl/flamingoserver/chatserver, process 42921
</code></pre><p>&#x7136;&#x540E;&#x518D;&#x9000;&#x51FA; GDB &#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF1A;</p>
<pre><code>(gdb) quit
[zhangyl@localhost flamingoserver]$
</code></pre><h2 id="&#x8C03;&#x8BD5;-core-&#x6587;&#x4EF6;">&#x8C03;&#x8BD5; core &#x6587;&#x4EF6;</h2>
<pre><code>gdb filename corename
</code></pre><p>Linux &#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x5F00;&#x542F;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x4EA7;&#x751F; core &#x6587;&#x4EF6;&#x8FD9;&#x4E00;&#x673A;&#x5236;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ulimit -c &#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5F00;&#x542F;&#x4E86;&#x8FD9;&#x4E00;&#x673A;&#x5236;&#x3002;</p>
<blockquote>
<p>&#x987A;&#x4FBF;&#x63D0;&#x4E00;&#x53E5;&#xFF0C;ulimit &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x4E0D;&#x4EC5;&#x4EC5;&#x53EF;&#x4EE5;&#x67E5;&#x770B; core &#x6587;&#x4EF6;&#x751F;&#x6210;&#x662F;&#x5426;&#x5F00;&#x542F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;&#x529F;&#x80FD;&#xFF0C;&#x6BD4;&#x5982;&#x7CFB;&#x7EDF;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x6570;&#x91CF;&#x7B49;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ulimit -a &#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#xFF0C;&#x7531;&#x4E8E;&#x8FD9;&#x4E2A;&#x5185;&#x5BB9;&#x4E0E;&#x672C;&#x8BFE;&#x4E3B;&#x9898;&#x65E0;&#x5173;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x3002;</p>
</blockquote>
<pre><code>[zhangyl@localhost flamingoserver]$ ulimit -a
core file size          (blocks, -c) 0
data seg size           (kbytes, -d) unlimited
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited
pending signals                 (-i) 15045
max locked memory       (kbytes, -l) 64
max memory size         (kbytes, -m) unlimited
open files                      (-n) 1024
pipe size            (512 bytes, -p) 8
POSIX message queues     (bytes, -q) 819200
real-time priority              (-r) 0
stack size              (kbytes, -s) 8192
cpu time               (seconds, -t) unlimited
max user processes              (-u) 4096
virtual memory          (kbytes, -v) unlimited
file locks                      (-x) unlimited
</code></pre><p>&#x53D1;&#x73B0; core file size &#x90A3;&#x4E00;&#x884C;&#x9ED8;&#x8BA4;&#x662F; 0&#xFF0C;&#x8868;&#x793A;&#x5173;&#x95ED;&#x751F;&#x6210; core &#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;ulimit &#x9009;&#x9879;&#x540D; &#x8BBE;&#x7F6E;&#x503C;&#x201D;&#x6765;&#x4FEE;&#x6539;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06; core &#x6587;&#x4EF6;&#x751F;&#x6210;&#x6539;&#x6210;&#x5177;&#x4F53;&#x67D0;&#x4E2A;&#x503C;&#xFF08;&#x6700;&#x5927;&#x5141;&#x8BB8;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF09;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528; <strong>ulimit -c unlimited</strong>&#xFF08;<strong>unlimited</strong> &#x662F; <strong>-c</strong> &#x9009;&#x9879;&#x503C;&#xFF09;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x6210;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x3002;</p>
<blockquote>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5BB9;&#x6613;&#x8BB0;&#x9519;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A; ulimit &#x662F; <strong>Linux &#x547D;&#x4EE4;</strong>&#xFF0C; -c &#x9009;&#x9879;&#x540E;&#x9762;&#x7684; unlimited &#x662F;<strong>&#x9009;&#x9879;&#x7684;&#x503C;</strong>&#xFF0C;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x6539;&#x6210;&#x5177;&#x4F53;&#x7684;&#x6570;&#x503C;&#x5927;&#x5C0F;&#x3002;&#x5F88;&#x591A;&#x521D;&#x5B66;&#x8005;&#x5728;&#x5B66;&#x4E60;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x603B;&#x662F;&#x628A; <strong>ulimit &#x547D;&#x4EE4;</strong>&#x548C; <strong>unlimited &#x53D6;&#x503C;</strong>&#x641E;&#x6DF7;&#x6DC6;&#xFF0C;&#x5982;&#x679C;&#x8BFB;&#x8005;&#x80FD;&#x7406;&#x89E3;&#x5176;&#x542B;&#x4E49;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x4E0D;&#x4F1A;&#x6DF7;&#x6DC6;&#x4E86;&#x3002;</p>
</blockquote>
<p>&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#xFF0C;&#x8FD9;&#x6837;&#x4FEE;&#x6539;&#x4EE5;&#x540E;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5173;&#x95ED;&#x8FD9;&#x4E2A; Linux &#x4F1A;&#x8BDD;&#xFF0C;&#x8BBE;&#x7F6E;&#x9879;&#x7684;&#x503C;&#x5C31;&#x4F1A;&#x88AB;&#x8FD8;&#x539F;&#x6210; 0&#xFF0C;&#x800C;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x4E00;&#x822C;&#x662F;&#x4EE5;&#x540E;&#x53F0;&#x7A0B;&#x5E8F;&#xFF08;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF09;&#x957F;&#x5468;&#x671F;&#x8FD0;&#x884C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x867D;&#x7136;&#x88AB;&#x5173;&#x95ED;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x4ECD;&#x7136;&#x7EE7;&#x7EED;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x8FD9;&#x6837;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x5728;&#x67D0;&#x4E2A;&#x65F6;&#x523B;&#x5D29;&#x6E83;&#x540E;&#xFF0C;&#x662F;&#x65E0;&#x6CD5;&#x4EA7;&#x751F; core &#x6587;&#x4EF6;&#x7684;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x5F62;&#x4E0D;&#x5229;&#x4E8E;&#x6392;&#x67E5;&#x95EE;&#x9898;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x6C38;&#x4E45;&#x751F;&#x6548;&#xFF0C;&#x6C38;&#x4E45;&#x751F;&#x6548;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x628A;&#x201C;ulimit -c unlimited&#x201D;&#x8FD9;&#x4E00;&#x884C;&#x52A0;&#x5230; /etc/profile &#x6587;&#x4EF6;&#x4E2D;&#x53BB;&#xFF0C;&#x653E;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x6700;&#x540E;&#x4E00;&#x884C;&#x5373;&#x53EF;&#x3002;</p>
<h3 id="&#x81EA;&#x5B9A;&#x4E49;-core-&#x6587;&#x4EF6;&#x540D;&#x79F0;">&#x81EA;&#x5B9A;&#x4E49; core &#x6587;&#x4EF6;&#x540D;&#x79F0;</h3>
<p>&#x4F46;&#x662F;&#x7EC6;&#x5FC3;&#x7684;&#x8BFB;&#x8005;&#x4F1A;&#x53D1;&#x73B0;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x5176; PID &#x662F;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x540E;&#xFF0C;&#x4EA7;&#x751F;&#x4E86; core &#x6587;&#x4EF6;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x591A;&#x4E2A;&#x7A0B;&#x5E8F;&#x540C;&#x65F6;&#x5D29;&#x6E83;&#xFF0C;&#x6211;&#x4EEC;&#x6839;&#x672C;&#x6CA1;&#x6CD5;&#x901A;&#x8FC7; core &#x6587;&#x4EF6;&#x540D;&#x79F0;&#x4E2D;&#x7684; PID &#x6765;&#x533A;&#x5206;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x4E2A;&#x670D;&#x52A1;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x6709;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul>
<li>&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x81EA;&#x5DF1;&#x7684; PID</li>
</ul>
<pre><code>void writePid()
{
      uint32_t curPid = (uint32_t) getpid();
      FILE* f = fopen(&quot;xxserver.pid&quot;, &quot;w&quot;);
      assert(f);
      char szPid[32];
      snprintf(szPid, sizeof(szPid), &quot;%d&quot;, curPid);
      fwrite(szPid, strlen(szPid), 1, f);
      fclose(f);
}
</code></pre><p>&#x6211;&#x4EEC;&#x5728;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x8C03;&#x7528;&#x4E0A;&#x8FF0; <strong>writePID</strong> &#x51FD;&#x6570;&#xFF0C;&#x5C06;&#x7A0B;&#x5E8F;&#x5F53;&#x65F6;&#x7684; PID &#x8BB0;&#x5F55;&#x5230; <strong>xxserver.pid</strong> &#x6587;&#x4EF6;&#x4E2D;&#x53BB;&#xFF0C;&#x8FD9;&#x6837;&#x5F53;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x5F97;&#x5230;&#x8FDB;&#x7A0B;&#x5F53;&#x65F6;&#x8FD0;&#x884C;&#x7684; PID&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4E0E;&#x9ED8;&#x8BA4;&#x7684; core &#x6587;&#x4EF6;&#x540D;&#x540E;&#x9762;&#x7684; PID &#x505A;&#x5339;&#x914D;&#x4E86;&#x3002;</p>
<ul>
<li>&#x81EA;&#x5B9A;&#x4E49; core &#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x548C;&#x76EE;&#x5F55;</li>
</ul>
<p><strong>/proc/sys/kernel/core_uses_pid</strong> &#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x4EA7;&#x751F;&#x7684; core &#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x4E2D;&#x662F;&#x5426;&#x6DFB;&#x52A0; PID &#x4F5C;&#x4E3A;&#x6269;&#x5C55;&#xFF0C;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x5219;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4E3A; 1&#xFF0C;&#x5426;&#x5219;&#x4E3A; 0&#xFF1B;<strong>/proc/sys/kernel/core_pattern</strong> &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x683C;&#x5F0F;&#x5316;&#x7684; core &#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x4F4D;&#x7F6E;&#x6216;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x4FEE;&#x6539;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>echo &quot;/corefile/core-%e-%p-%t&quot; &gt; /proc/sys/kernel/core_pattern
</code></pre><p>&#x5404;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x53C2;&#x6570;&#x540D;&#x79F0;</th>
<th style="text-align:left">&#x53C2;&#x6570;&#x542B;&#x4E49;&#xFF08;&#x82F1;&#x6587;&#xFF09;</th>
<th style="text-align:left">&#x53C2;&#x6570;&#x542B;&#x4E49;&#xFF08;&#x4E2D;&#x6587;&#xFF09;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%p</td>
<td style="text-align:left">insert pid into filename</td>
<td style="text-align:left">&#x6DFB;&#x52A0; pid &#x5230; core &#x6587;&#x4EF6;&#x540D;&#x4E2D;</td>
</tr>
<tr>
<td style="text-align:center">%u</td>
<td style="text-align:left">insert current uid into filename</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x5F53;&#x524D; uid &#x5230; core &#x6587;&#x4EF6;&#x540D;&#x4E2D;</td>
</tr>
<tr>
<td style="text-align:center">%g</td>
<td style="text-align:left">insert current gid into filename</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x5F53;&#x524D; gid &#x5230; core &#x6587;&#x4EF6;&#x540D;&#x4E2D;</td>
</tr>
<tr>
<td style="text-align:center">%s</td>
<td style="text-align:left">insert signal that caused the coredump into the filename</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x5BFC;&#x81F4;&#x4EA7;&#x751F; core &#x7684;&#x4FE1;&#x53F7;&#x5230; core &#x6587;&#x4EF6;&#x540D;&#x4E2D;</td>
</tr>
<tr>
<td style="text-align:center">%t</td>
<td style="text-align:left">insert UNIX time that the coredump occurred into filename</td>
<td style="text-align:left">&#x6DFB;&#x52A0; core &#x6587;&#x4EF6;&#x751F;&#x6210;&#x65F6;&#x95F4;&#xFF08;UNIX&#xFF09;&#x5230; core &#x6587;&#x4EF6;&#x540D;&#x4E2D;</td>
</tr>
<tr>
<td style="text-align:center">%h</td>
<td style="text-align:left">insert hostname where the coredump happened into filename</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x4E3B;&#x673A;&#x540D;&#x5230; core &#x6587;&#x4EF6;&#x540D;&#x4E2D;</td>
</tr>
<tr>
<td style="text-align:center">%e</td>
<td style="text-align:left">insert coredumping executable name into filename</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x7A0B;&#x5E8F;&#x540D;&#x5230; core &#x6587;&#x4EF6;&#x540D;&#x4E2D;</td>
</tr>
</tbody>
</table>
<p>&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x7684;&#x7A0B;&#x5E8F;&#x53EB; <strong>test</strong>&#xFF0C;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x8BE5;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x65F6;&#x7684; core &#x6587;&#x4EF6;&#x540D;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>echo &quot;/root/testcore/core-%e-%p-%t&quot; &gt; /proc/sys/kernel/core_pattern
</code></pre><p>&#x90A3;&#x4E48;&#x6700;&#x7EC8;&#x4F1A;&#x5728; <strong>/root/testcore/</strong> &#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x7684; test &#x7684; core &#x6587;&#x4EF6;&#x540D;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>-rw-------. 1 root root 409600 Jan 14 13:54 core-test-13154-1547445291
</code></pre><p><img src="https://images.gitbook.cn/1abcbda0-1809-11e9-90f4-4f5962647553" alt="img"></p>
<blockquote>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x7528;&#x6237;&#x5FC5;&#x987B;&#x5BF9;&#x6307;&#x5B9A; core &#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x5177;&#x6709;&#x5199;&#x6743;&#x9650;&#xFF0C;&#x5426;&#x5219;&#x751F;&#x6210;&#x65F6; &#x4F1A;&#x56E0;&#x4E3A;&#x6743;&#x9650;&#x4E0D;&#x8DB3;&#x800C;&#x5BFC;&#x81F4;&#x65E0;&#x6CD5;&#x751F;&#x6210; core &#x6587;&#x4EF6;&#x3002;</p>
</blockquote>
<h1 id="gdb-&#x5E38;&#x7528;&#x7684;&#x8C03;&#x8BD5;&#x547D;&#x4EE4;&#x6982;&#x89C8;">GDB &#x5E38;&#x7528;&#x7684;&#x8C03;&#x8BD5;&#x547D;&#x4EE4;&#x6982;&#x89C8;</h1>
<p>&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x7684;&#x5217;&#x8868;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x547D;&#x4EE4;&#x540D;&#x79F0;</th>
<th style="text-align:left">&#x547D;&#x4EE4;&#x7F29;&#x5199;</th>
<th style="text-align:left"><strong>&#x547D;&#x4EE4;&#x8BF4;&#x660E;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">run</td>
<td style="text-align:left">r</td>
<td style="text-align:left">&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;</td>
</tr>
<tr>
<td style="text-align:left">continue</td>
<td style="text-align:left">c</td>
<td style="text-align:left">&#x8BA9;&#x6682;&#x505C;&#x7684;&#x7A0B;&#x5E8F;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">n</td>
<td style="text-align:left">&#x8FD0;&#x884C;&#x5230;&#x4E0B;&#x4E00;&#x884C;</td>
</tr>
<tr>
<td style="text-align:left">step</td>
<td style="text-align:left">s</td>
<td style="text-align:left">&#x5982;&#x679C;&#x6709;&#x8C03;&#x7528;&#x51FD;&#x6570;&#xFF0C;&#x8FDB;&#x5165;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#x5185;&#x90E8;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E; step into</td>
</tr>
<tr>
<td style="text-align:left">until</td>
<td style="text-align:left">u</td>
<td style="text-align:left">&#x8FD0;&#x884C;&#x5230;&#x6307;&#x5B9A;&#x884C;&#x505C;&#x4E0B;&#x6765;</td>
</tr>
<tr>
<td style="text-align:left">finish</td>
<td style="text-align:left">fi</td>
<td style="text-align:left">&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x8C03;&#x7528;&#x51FD;&#x6570;&#xFF0C;&#x5230;&#x4E0A;&#x4E00;&#x5C42;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x5904;</td>
</tr>
<tr>
<td style="text-align:left">return</td>
<td style="text-align:left">return</td>
<td style="text-align:left">&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x5E76;&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x503C;&#xFF0C;&#x5230;&#x4E0A;&#x4E00;&#x5C42;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x5904;</td>
</tr>
<tr>
<td style="text-align:left">jump</td>
<td style="text-align:left">j</td>
<td style="text-align:left">&#x5C06;&#x5F53;&#x524D;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x6D41;&#x8DF3;&#x8F6C;&#x5230;&#x6307;&#x5B9A;&#x884C;&#x6216;&#x5730;&#x5740;</td>
</tr>
<tr>
<td style="text-align:left">print</td>
<td style="text-align:left">p</td>
<td style="text-align:left">&#x6253;&#x5370;&#x53D8;&#x91CF;&#x6216;&#x5BC4;&#x5B58;&#x5668;&#x503C;</td>
</tr>
<tr>
<td style="text-align:left">backtrace</td>
<td style="text-align:left">bt</td>
<td style="text-align:left">&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7684;&#x8C03;&#x7528;&#x5806;&#x6808;</td>
</tr>
<tr>
<td style="text-align:left">frame</td>
<td style="text-align:left">f</td>
<td style="text-align:left">&#x5207;&#x6362;&#x5230;&#x5F53;&#x524D;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;&#x6307;&#x5B9A;&#x5806;&#x6808;&#xFF0C;&#x5177;&#x4F53;&#x5806;&#x6808;&#x901A;&#x8FC7;&#x5806;&#x6808;&#x5E8F;&#x53F7;&#x6307;&#x5B9A;</td>
</tr>
<tr>
<td style="text-align:left">thread</td>
<td style="text-align:left">thread</td>
<td style="text-align:left">&#x5207;&#x6362;&#x5230;&#x6307;&#x5B9A;&#x7EBF;&#x7A0B;</td>
</tr>
<tr>
<td style="text-align:left">break</td>
<td style="text-align:left">b</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x65AD;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:left">tbreak</td>
<td style="text-align:left">tb</td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x4E34;&#x65F6;&#x65AD;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:left">delete</td>
<td style="text-align:left">del</td>
<td style="text-align:left">&#x5220;&#x9664;&#x65AD;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:left">enable</td>
<td style="text-align:left">enable</td>
<td style="text-align:left">&#x542F;&#x7528;&#x67D0;&#x4E2A;&#x65AD;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:left">disable</td>
<td style="text-align:left">disable</td>
<td style="text-align:left">&#x7981;&#x7528;&#x67D0;&#x4E2A;&#x65AD;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:left">watch</td>
<td style="text-align:left">watch</td>
<td style="text-align:left">&#x76D1;&#x89C6;&#x67D0;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x6216;&#x5185;&#x5B58;&#x5730;&#x5740;&#x7684;&#x503C;&#x662F;&#x5426;&#x53D1;&#x751F;&#x53D8;&#x5316;</td>
</tr>
<tr>
<td style="text-align:left">list</td>
<td style="text-align:left">l</td>
<td style="text-align:left">&#x663E;&#x793A;&#x6E90;&#x7801;</td>
</tr>
<tr>
<td style="text-align:left">info</td>
<td style="text-align:left">info</td>
<td style="text-align:left">&#x67E5;&#x770B;&#x65AD;&#x70B9; / &#x7EBF;&#x7A0B;&#x7B49;&#x4FE1;&#x606F;</td>
</tr>
<tr>
<td style="text-align:left">ptype</td>
<td style="text-align:left">ptype</td>
<td style="text-align:left">&#x67E5;&#x770B;&#x53D8;&#x91CF;&#x7C7B;&#x578B;</td>
</tr>
<tr>
<td style="text-align:left">disassemble</td>
<td style="text-align:left">dis</td>
<td style="text-align:left">&#x67E5;&#x770B;&#x6C47;&#x7F16;&#x4EE3;&#x7801;</td>
</tr>
<tr>
<td style="text-align:left">set args</td>
<td style="text-align:left"></td>
<td style="text-align:left">&#x8BBE;&#x7F6E;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;</td>
</tr>
<tr>
<td style="text-align:left">show args</td>
<td style="text-align:left"></td>
<td style="text-align:left">&#x67E5;&#x770B;&#x8BBE;&#x7F6E;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;</td>
</tr>
</tbody>
</table>
<p>&#x5F53; GDB &#x8F93;&#x5165;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7F29;&#x5199;&#x6210;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x9075;&#x5FAA;&#x5982;&#x4E0B;&#x4E24;&#x4E2A;&#x89C4;&#x5219;&#x5373;&#x53EF;&#x3002;</p>
<ul>
<li>&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7F29;&#x5199;&#x65F6;&#x4E0D;&#x80FD;&#x51FA;&#x73B0;&#x591A;&#x4E2A;&#x9009;&#x62E9;&#xFF0C;&#x5426;&#x5219; GDB &#x5C31;&#x4E0D;&#x77E5;&#x9053;&#x5BF9;&#x5E94;&#x54EA;&#x4E2A;&#x547D;&#x4EE4;&#x4E86;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x8F93;&#x5165; th&#xFF0C;&#x90A3;&#x4E48; th &#x5BF9;&#x5E94;&#x7684;&#x547D;&#x4EE4;&#x6709; thread &#x548C; thbreak&#xFF08;&#x4E0A;&#x8868;&#x6CA1;&#x6709;&#x5217;&#x51FA;&#xFF09;&#xFF0C;&#x8FD9;&#x6837; GDB &#x5C31;&#x4E0D;&#x77E5;&#x9053;&#x4F7F;&#x7528;&#x54EA;&#x4E2A;&#x4E86;&#xFF0C;&#x9700;&#x8981;&#x66F4;&#x5177;&#x4F53;&#x7684;&#x8F93;&#x5165;&#xFF0C;GDB &#x624D;&#x80FD;&#x8BC6;&#x522B;&#x3002;</li>
</ul>
<pre><code>(gdb) th
Ambiguous command &quot;th&quot;: thbreak, thread.
</code></pre><ul>
<li>GDB &#x6709;&#x4E9B;&#x547D;&#x4EE4;&#x867D;&#x7136;&#x4E5F;&#x5BF9;&#x5E94;&#x591A;&#x4E2A;&#x9009;&#x62E9;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E9B;&#x547D;&#x4EE4;&#x7684;&#x7B80;&#x5199;&#x662F;&#x6709;&#x89C4;&#x5B9A;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;r &#x5C31;&#x662F;&#x547D;&#x4EE4;&#x201C;run&#x201D;&#x7684;&#x7B80;&#x5199;&#xFF0C;&#x867D;&#x7136;&#x8F93;&#x5165;&#x201C;r&#x201D;&#x65F6;&#xFF0C;&#x4F60;&#x7684;&#x672C;&#x610F;&#x53EF;&#x80FD;&#x662F;&#x201C;return&#x201D;&#x547D;&#x4EE4;&#x3002;</li>
</ul>
<h1 id="gdb-&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x8BE6;&#x89E3;">GDB &#x5E38;&#x7528;&#x547D;&#x4EE4;&#x8BE6;&#x89E3;</h1>
<p>&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8C03;&#x8BD5;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x751F;&#x6210;&#x8C03;&#x8BD5;&#x7B26;&#x53F7;&#x5E76;&#x4E14;&#x5173;&#x95ED;&#x7F16;&#x8BD1;&#x5668;&#x4F18;&#x5316;&#x9009;&#x9879;&#xFF0C;&#x64CD;&#x4F5C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>[root@localhost gdbtest]# cd redis-4.0.11
[root@localhost redis-4.0.11]# make CFLAGS=&quot;-g -O0&quot; -j 4
</code></pre><blockquote>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x7531;&#x4E8E; redis &#x662F;&#x7EAF; C &#x9879;&#x76EE;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x662F; gcc&#xFF0C;&#x56E0;&#x800C;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x9009;&#x9879;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F; CFLAGS &#x9009;&#x9879;&#xFF1B;&#x5982;&#x679C;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x7684;&#x8BED;&#x8A00;&#x662F; C++&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x4E00;&#x822C;&#x662F; g++&#xFF0C;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x9009;&#x9879;&#x662F; CXXFLAGS&#x3002;&#x8FD9;&#x70B9;&#x8BF7;&#x8BFB;&#x8005;&#x6CE8;&#x610F;&#x533A;&#x522B;&#x3002;</p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x8FD9;&#x91CC; makefile &#x4F7F;&#x7528;&#x4E86; -j &#x9009;&#x9879;&#xFF0C;&#x5176;&#x503C;&#x662F; 4&#xFF0C;&#x8868;&#x793A;&#x5F00;&#x542F; 4 &#x4E2A;&#x8FDB;&#x7A0B;&#x540C;&#x65F6;&#x7F16;&#x8BD1;&#xFF0C;&#x52A0;&#x5FEB;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x3002;</p>
</blockquote>
<h2 id="run-&#x547D;&#x4EE4;">run &#x547D;&#x4EE4;</h2>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x524D;&#x9762;&#x7684;&#x8BFE;&#x7A0B;&#x4E2D;&#x6211;&#x4EEC;&#x8BF4; <strong>gdb filename</strong> &#x547D;&#x4EE4;&#x53EA;&#x662F;&#x9644;&#x52A0;&#x7684;&#x4E00;&#x4E2A;&#x8C03;&#x8BD5;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x9700;&#x8981;&#x8F93;&#x5165; <strong>run</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; r&#xFF09;&#x542F;&#x52A8;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x3002;</p>
<p>&#x5047;&#x8BBE;&#x7A0B;&#x5E8F;&#x5DF2;&#x7ECF;&#x542F;&#x52A8;&#xFF0C;&#x518D;&#x6B21;&#x8F93;&#x5165; run &#x547D;&#x4EE4;&#x5219;&#x662F;&#x91CD;&#x542F;&#x7A0B;&#x5E8F;&#x3002;&#x6211;&#x4EEC;&#x5728; GDB &#x754C;&#x9762;&#x6309; Ctrl + C &#x5FEB;&#x6377;&#x952E;&#x8BA9; GDB &#x4E2D;&#x65AD;&#x4E0B;&#x6765;&#xFF0C;&#x518D;&#x6B21;&#x8F93;&#x5165; r &#x547D;&#x4EE4;&#xFF0C;GDB &#x4F1A;&#x8BE2;&#x95EE;&#x6211;&#x4EEC;&#x662F;&#x5426;&#x91CD;&#x542F;&#x7A0B;&#x5E8F;&#xFF0C;&#x8F93;&#x5165; yes &#x786E;&#x8BA4;&#x91CD;&#x542F;&#x3002;</p>
<h2 id="continue-&#x547D;&#x4EE4;">continue &#x547D;&#x4EE4;</h2>
<p>&#x5F53; GDB &#x89E6;&#x53D1;&#x65AD;&#x70B9;&#x6216;&#x8005;&#x4F7F;&#x7528; Ctrl + C &#x547D;&#x4EE4;&#x4E2D;&#x65AD;&#x4E0B;&#x6765;&#x540E;&#xFF0C;&#x60F3;&#x8BA9;&#x7A0B;&#x5E8F;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x53EA;&#x8981;&#x8F93;&#x5165; <strong>continue</strong> &#x547D;&#x4EE4;&#x5373;&#x53EF;&#xFF08;&#x7B80;&#x5199;&#x4E3A; c&#xFF09;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C; <strong>continue</strong> &#x547D;&#x4EE4;&#x7EE7;&#x7EED;&#x89E6;&#x53D1;&#x65AD;&#x70B9;&#xFF0C;GDB &#x5C31;&#x4F1A;&#x518D;&#x6B21;&#x4E2D;&#x65AD;&#x4E0B;&#x6765;&#x3002;</p>
<h2 id="break-&#x547D;&#x4EE4;">break &#x547D;&#x4EE4;</h2>
<p><strong>break</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; b&#xFF09;&#x5373;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#xFF1A;</p>
<ul>
<li>break functionname&#xFF0C;&#x5728;&#x51FD;&#x6570;&#x540D;&#x4E3A; functionname &#x7684;&#x5165;&#x53E3;&#x5904;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF1B;</li>
<li>break LineNo&#xFF0C;&#x5728;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x884C;&#x53F7;&#x4E3A; LineNo &#x5904;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF1B;</li>
<li>break filename:LineNo&#xFF0C;&#x5728; filename &#x6587;&#x4EF6;&#x884C;&#x53F7;&#x4E3A; LineNo &#x5904;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#x3002;</li>
</ul>
<h2 id="backtrace-&#x4E0E;-frame-&#x547D;&#x4EE4;">backtrace &#x4E0E; frame &#x547D;&#x4EE4;</h2>
<p><strong>backtrace</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; bt&#xFF09;&#x7528;&#x6765;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8C03;&#x7528;&#x5806;&#x6808;&#x3002;&#x63A5;&#x4E0A;&#xFF0C;redis-server &#x73B0;&#x5728;&#x4E2D;&#x65AD;&#x5728; anet.c:452 &#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <strong>backtrace</strong> &#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7684;&#x8C03;&#x7528;&#x5806;&#x6808;&#xFF1A;</p>
<pre><code>(gdb) bt
#0  anetListen (err=0x746bb0 &lt;server+560&gt; &quot;&quot;, s=10, sa=0x7e34e0, len=16, backlog=511) at anet.c:452
#1  0x0000000000426e35 in _anetTcpServer (err=err@entry=0x746bb0 &lt;server+560&gt; &quot;&quot;, port=port@entry=6379, bindaddr=bindaddr@entry=0x0, af=af@entry=10, backlog=511)
    at anet.c:487
#2  0x000000000042793d in anetTcp6Server (err=err@entry=0x746bb0 &lt;server+560&gt; &quot;&quot;, port=port@entry=6379, bindaddr=bindaddr@entry=0x0, backlog=511)
    at anet.c:510
#3  0x000000000042b0bf in listenToPort (port=6379, fds=fds@entry=0x746ae4 &lt;server+356&gt;, count=count@entry=0x746b24 &lt;server+420&gt;) at server.c:1728
#4  0x000000000042fa77 in initServer () at server.c:1852
#5  0x0000000000423803 in main (argc=1, argv=0x7fffffffe648) at server.c:3862
(gdb)
</code></pre><p>&#x8FD9;&#x91CC;&#x4E00;&#x5171;&#x6709; 6 &#x5C42;&#x5806;&#x6808;&#xFF0C;&#x6700;&#x9876;&#x5C42;&#x662F; main() &#x51FD;&#x6570;&#xFF0C;&#x6700;&#x5E95;&#x5C42;&#x662F;&#x65AD;&#x70B9;&#x6240;&#x5728;&#x7684; anetListen() &#x51FD;&#x6570;&#xFF0C;&#x5806;&#x6808;&#x7F16;&#x53F7;&#x5206;&#x522B;&#x662F; #0 ~ #5 &#xFF0C;&#x5982;&#x679C;&#x60F3;&#x5207;&#x6362;&#x5230;&#x5176;&#x4ED6;&#x5806;&#x6808;&#x5904;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; frame &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; f&#xFF09;&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x662F;&#x201C;<strong>frame &#x5806;&#x6808;&#x7F16;&#x53F7;</strong>&#xFF08;&#x7F16;&#x53F7;&#x4E0D;&#x52A0; #&#xFF09;&#x201D;&#x3002;</p>
<h2 id="info-break&#x3001;enable&#x3001;disable-&#x548C;-delete-&#x547D;&#x4EE4;">info break&#x3001;enable&#x3001;disable &#x548C; delete &#x547D;&#x4EE4;</h2>
<p>&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x52A0;&#x4E86;&#x5F88;&#x591A;&#x65AD;&#x70B9;&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x60F3;&#x67E5;&#x770B;&#x52A0;&#x4E86;&#x54EA;&#x4E9B;&#x65AD;&#x70B9;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>info break</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; info b&#xFF09;&#xFF1A;</p>
<pre><code>(gdb) info b
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000000423450 in main at server.c:3709
        breakpoint already hit 1 time
2       breakpoint     keep y   0x000000000049c1f0 in _redisContextConnectTcp at net.c:267
3       breakpoint     keep y   0x0000000000426cf0 in anetListen at anet.c:441
        breakpoint already hit 1 time
4       breakpoint     keep y   0x0000000000426d05 in anetListen at anet.c:444
        breakpoint already hit 1 time
5       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:450
        breakpoint already hit 1 time
6       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:452
        breakpoint already hit 1 time
</code></pre><p>&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x7247;&#x6BB5;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x76EE;&#x524D;&#x4E00;&#x5171;&#x589E;&#x52A0;&#x4E86; 6 &#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x9664;&#x4E86;&#x65AD;&#x70B9; 2 &#x4EE5;&#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x65AD;&#x70B9;&#x5747;&#x88AB;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#xFF0C;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#x6BD4;&#x5982;&#x6BCF;&#x4E2A;&#x65AD;&#x70B9;&#x7684;&#x4F4D;&#x7F6E;&#xFF08;&#x6240;&#x5728;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x884C;&#x53F7;&#xFF09;&#x3001;&#x5185;&#x5B58;&#x5730;&#x5740;&#x3001;&#x65AD;&#x70B9;&#x542F;&#x7528;&#x548C;&#x7981;&#x7528;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x4E5F;&#x4E00;&#x76EE;&#x4E86;&#x7136;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x7981;&#x7528;&#x67D0;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x4F7F;&#x7528;&#x201C;<strong>disable &#x65AD;&#x70B9;&#x7F16;&#x53F7;</strong>&#x201D;&#x5C31;&#x53EF;&#x4EE5;&#x7981;&#x7528;&#x8FD9;&#x4E2A;&#x65AD;&#x70B9;&#x4E86;&#xFF0C;&#x88AB;&#x7981;&#x7528;&#x7684;&#x65AD;&#x70B9;&#x4E0D;&#x4F1A;&#x518D;&#x88AB;&#x89E6;&#x53D1;&#xFF1B;&#x540C;&#x7406;&#xFF0C;&#x88AB;&#x7981;&#x7528;&#x7684;&#x65AD;&#x70B9;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;<strong>enable &#x65AD;&#x70B9;&#x7F16;&#x53F7;</strong>&#x201D;&#x91CD;&#x65B0;&#x542F;&#x7528;&#x3002;</p>
<pre><code>(gdb) disable 1
(gdb) info b
Num     Type           Disp Enb Address            What
1       breakpoint     keep n   0x0000000000423450 in main at server.c:3709
        breakpoint already hit 1 time
2       breakpoint     keep y   0x000000000049c1f0 in _redisContextConnectTcp at net.c:267
3       breakpoint     keep y   0x0000000000426cf0 in anetListen at anet.c:441
        breakpoint already hit 1 time
4       breakpoint     keep y   0x0000000000426d05 in anetListen at anet.c:444
        breakpoint already hit 1 time
5       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:450
        breakpoint already hit 1 time
6       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:452
        breakpoint already hit 1 time
</code></pre><p>&#x4F7F;&#x7528; <strong>disable 1</strong> &#x4EE5;&#x540E;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#x7684; Enb &#x4E00;&#x680F;&#x7684;&#x503C;&#x7531; y &#x53D8;&#x6210; n&#xFF0C;&#x91CD;&#x542F;&#x7A0B;&#x5E8F;&#x4E5F;&#x4E0D;&#x4F1A;&#x518D;&#x6B21;&#x89E6;&#x53D1;&#xFF1A;</p>
<pre><code>(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/gdbtest/redis-4.0.11/src/redis-server
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.
46795:C 08 Sep 16:15:55.681 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
46795:C 08 Sep 16:15:55.681 # Redis version=4.0.11, bits=64, commit=00000000, modified=0, pid=46795, just started
46795:C 08 Sep 16:15:55.681 # Warning: no config file specified, using the default config. In order to specify a config file use /root/gdbtest/redis-4.0.11/src/redis-server /path/to/redis.conf
46795:M 08 Sep 16:15:55.682 * Increased maximum number of open files to 10032 (it was originally set to 1024).

Breakpoint 3, anetListen (err=0x746bb0 &lt;server+560&gt; &quot;&quot;, s=10, sa=0x75edb0, len=28, backlog=511) at anet.c:441
441         if (bind(s,sa,len) == -1) {
</code></pre><p>&#x5982;&#x679C; <strong>disable</strong> &#x547D;&#x4EE4;&#x548C; <strong>enable</strong> &#x547D;&#x4EE4;&#x4E0D;&#x52A0;&#x65AD;&#x70B9;&#x7F16;&#x53F7;&#xFF0C;&#x5219;&#x5206;&#x522B;&#x8868;&#x793A;&#x7981;&#x7528;&#x548C;&#x542F;&#x7528;&#x6240;&#x6709;&#x65AD;&#x70B9;&#xFF1A;</p>
<pre><code>(gdb) disable
(gdb) info b
Num     Type           Disp Enb Address            What
1       breakpoint     keep n   0x0000000000423450 in main at server.c:3709
2       breakpoint     keep n   0x000000000049c1f0 in _redisContextConnectTcp at net.c:267
3       breakpoint     keep n   0x0000000000426cf0 in anetListen at anet.c:441
        breakpoint already hit 1 time
4       breakpoint     keep n   0x0000000000426d05 in anetListen at anet.c:444
5       breakpoint     keep n   0x0000000000426d16 in anetListen at anet.c:450
6       breakpoint     keep n   0x0000000000426d16 in anetListen at anet.c:452
(gdb) enable
(gdb) info b
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000000423450 in main at server.c:3709
2       breakpoint     keep y   0x000000000049c1f0 in _redisContextConnectTcp at net.c:267
3       breakpoint     keep y   0x0000000000426cf0 in anetListen at anet.c:441
        breakpoint already hit 1 time
4       breakpoint     keep y   0x0000000000426d05 in anetListen at anet.c:444
5       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:450
6       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:452
(gdb)
</code></pre><p>&#x4F7F;&#x7528;&#x201C;<strong>delete &#x7F16;&#x53F7;</strong>&#x201D;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x5982; <strong>delete 2 3</strong> &#x5219;&#x8868;&#x793A;&#x8981;&#x5220;&#x9664;&#x7684;&#x65AD;&#x70B9; 2 &#x548C;&#x65AD;&#x70B9; 3&#xFF1A;</p>
<pre><code>(gdb) delete 2 3
(gdb) info b
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000000423450 in main at server.c:3709
4       breakpoint     keep y   0x0000000000426d05 in anetListen at anet.c:444
5       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:450
6       breakpoint     keep y   0x0000000000426d16 in anetListen at anet.c:452
</code></pre><p>&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x8F93;&#x5165; delete &#x4E0D;&#x52A0;&#x547D;&#x4EE4;&#x53F7;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x5220;&#x9664;&#x6240;&#x6709;&#x65AD;&#x70B9;&#x3002;</p>
<h2 id="list-&#x547D;&#x4EE4;">list &#x547D;&#x4EE4;</h2>
<p><strong>List</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; l&#xFF09;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x65AD;&#x70B9;&#x5904;&#x7684;&#x4EE3;&#x7801;</p>
<p>&#x7B2C;&#x4E00;&#x6B21;&#x8F93;&#x5165; <strong>list</strong> &#x547D;&#x4EE4;&#x4F1A;&#x663E;&#x793A;&#x65AD;&#x70B9;&#x5904;&#x524D;&#x540E;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x7EE7;&#x7EED;&#x8F93;&#x5165; <strong>list</strong> &#x6307;&#x4EE4;&#x4F1A;&#x4EE5;&#x9012;&#x589E;&#x884C;&#x53F7;&#x7684;&#x5F62;&#x5F0F;&#x7EE7;&#x7EED;&#x663E;&#x793A;&#x5269;&#x4E0B;&#x7684;&#x4EE3;&#x7801;&#x884C;&#xFF0C;&#x4E00;&#x76F4;&#x5230;&#x6587;&#x4EF6;&#x7ED3;&#x675F;&#x4E3A;&#x6B62;&#x3002;&#x5F53;&#x7136; list &#x6307;&#x4EE4;&#x8FD8;&#x53EF;&#x4EE5;&#x5F80;&#x524D;&#x548C;&#x5F80;&#x540E;&#x663E;&#x793A;&#x4EE3;&#x7801;&#xFF0C;&#x547D;&#x4EE4;&#x5206;&#x522B;&#x662F;&#x201C;<strong>list +</strong> &#xFF08;&#x52A0;&#x53F7;&#xFF09;&#x201D;&#x548C;&#x201C;<strong>list -</strong> &#xFF08;&#x51CF;&#x53F7;&#xFF09;&#x201D;</p>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>list FILE:LINENUM</strong> &#x6765;&#x663E;&#x793A;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x67D0;&#x4E00;&#x884C;&#x5904;&#x7684;&#x4EE3;&#x7801;&#xFF0C;</p>
<h2 id="print-&#x548C;-ptype-&#x547D;&#x4EE4;">print &#x548C; ptype &#x547D;&#x4EE4;</h2>
<p>&#x901A;&#x8FC7; <strong>print</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; p&#xFF09;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x8C03;&#x8BD5;&#x8FC7;&#x7A0B;&#x4E2D;&#x65B9;&#x4FBF;&#x5730;&#x67E5;&#x770B;&#x53D8;&#x91CF;&#x7684;&#x503C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x5F53;&#x524D;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x503C;&#x3002;&#x5207;&#x6362;&#x5F53;&#x524D;&#x65AD;&#x70B9;&#x5230;&#x5806;&#x6808; #4 &#xFF0C;&#x7136;&#x540E;&#x6253;&#x5370;&#x4EE5;&#x4E0B;&#x4E09;&#x4E2A;&#x53D8;&#x91CF;&#x3002;</p>
<pre><code class="lang-C">(gdb) bt
<span class="hljs-meta">#0  anetListen (err=0x746bb0 &lt;server+560&gt; <span class="hljs-string">&quot;&quot;</span>, s=10, sa=0x7e34e0, len=16, backlog=511) at anet.c:447</span>
<span class="hljs-meta">#1  0x0000000000426e35 in _anetTcpServer (err=err@entry=0x746bb0 &lt;server+560&gt; <span class="hljs-string">&quot;&quot;</span>, port=port@entry=6379, bindaddr=bindaddr@entry=0x0, af=af@entry=10, backlog=511)</span>
    at anet.c:<span class="hljs-number">487</span>
<span class="hljs-meta">#2  0x000000000042793d in anetTcp6Server (err=err@entry=0x746bb0 &lt;server+560&gt; <span class="hljs-string">&quot;&quot;</span>, port=port@entry=6379, bindaddr=bindaddr@entry=0x0, backlog=511)</span>
    at anet.c:<span class="hljs-number">510</span>
<span class="hljs-meta">#3  0x000000000042b0bf in listenToPort (port=6379, fds=fds@entry=0x746ae4 &lt;server+356&gt;, count=count@entry=0x746b24 &lt;server+420&gt;) at server.c:1728</span>
<span class="hljs-meta">#4  0x000000000042fa77 in initServer () at server.c:1852</span>
<span class="hljs-meta">#5  0x0000000000423803 in main (argc=1, argv=0x7fffffffe648) at server.c:3862</span>
(gdb) f <span class="hljs-number">4</span>
<span class="hljs-meta">#4  0x000000000042fa77 in initServer () at server.c:1852</span>
<span class="hljs-number">1852</span>            listenToPort(server.port,server.ipfd,&amp;server.ipfd_count) == C_ERR)
(gdb) l
<span class="hljs-number">1847</span>        }
<span class="hljs-number">1848</span>        server.db = zmalloc(<span class="hljs-keyword">sizeof</span>(redisDb)*server.dbnum);
<span class="hljs-number">1849</span>
<span class="hljs-number">1850</span>        <span class="hljs-comment">/* Open the TCP listening socket for the user commands. */</span>
<span class="hljs-number">1851</span>        <span class="hljs-keyword">if</span> (server.port != <span class="hljs-number">0</span> &amp;&amp;
<span class="hljs-number">1852</span>            listenToPort(server.port,server.ipfd,&amp;server.ipfd_count) == C_ERR)
<span class="hljs-number">1853</span>            <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);
<span class="hljs-number">1854</span>
<span class="hljs-number">1855</span>        <span class="hljs-comment">/* Open the listening Unix domain socket. */</span>
<span class="hljs-number">1856</span>        <span class="hljs-keyword">if</span> (server.unixsocket != <span class="hljs-literal">NULL</span>) {
(gdb) p server.port
$<span class="hljs-number">15</span> = <span class="hljs-number">6379</span>
(gdb) p server.ipfd
$<span class="hljs-number">16</span> = {<span class="hljs-number">0</span> &lt;repeats <span class="hljs-number">16</span> times&gt;}
(gdb) p server.ipfd_count
$<span class="hljs-number">17</span> = <span class="hljs-number">0</span>
</code></pre>
<p>&#x8FD9;&#x91CC;&#x4F7F;&#x7528; <strong>print</strong> &#x547D;&#x4EE4;&#x5206;&#x522B;&#x6253;&#x5370;&#x51FA; server.port &#x3001;server.ipfd &#x3001;server.ipfd_count &#x7684;&#x503C;&#xFF0C;&#x5176;&#x4E2D; server.ipfd &#x663E;&#x793A; &#x201C;{0 }&#x201D;&#xFF0C;&#x8FD9;&#x662F; GDB &#x663E;&#x793A;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x5B57;&#x7B26;&#x6570;&#x636E;&#x7279;&#x6709;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x5B57;&#x7B26;&#x6570;&#x7EC4;&#x6216;&#x8005;&#x8FDE;&#x7EED;&#x7684;&#x5185;&#x5B58;&#x503C;&#x91CD;&#x590D;&#x82E5;&#x5E72;&#x6B21;&#xFF0C;GDB &#x5C31;&#x4F1A;&#x4EE5;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x6765;&#x663E;&#x793A;&#x4EE5;&#x8282;&#x7EA6;&#x7A7A;&#x95F4;&#x3002;</p>
<p><strong>print</strong> &#x547D;&#x4EE4;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x53D8;&#x91CF;&#x503C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x8FDB;&#x884C;&#x4E00;&#x5B9A;&#x8FD0;&#x7B97;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x503C;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x4E00;&#x4E9B;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x503C;&#x3002;</p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8F93;&#x5165; <strong>p &amp;server.port</strong> &#x6765;&#x8F93;&#x51FA; server.port &#x7684;&#x5730;&#x5740;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x5728; C++ &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; p this &#x6765;&#x663E;&#x793A;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; p <em>this &#x6765;&#x5217;&#x51FA;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x7684;&#x5404;&#x4E2A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E09;&#x4E2A;&#x53D8;&#x91CF;&#x53EF;&#x4EE5;&#x76F8;&#x52A0;&#xFF08; &#x5047;&#x8BBE;&#x53D8;&#x91CF;&#x540D;&#x5206;&#x522B;&#x53EB; a&#x3001;b&#x3001;c &#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <em>*p a + b + c</em></em> &#x6765;&#x6253;&#x5370;&#x8FD9;&#x4E09;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x7ED3;&#x679C;&#x503C;&#x3002;</p>
<p>&#x5047;&#x8BBE; func() &#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#xFF0C;p func() &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x8BE5;&#x53D8;&#x91CF;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x3002;&#x4E3E;&#x4E00;&#x4E2A;&#x6700;&#x5E38;&#x7528;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x67D0;&#x4E2A;&#x65F6;&#x523B;&#xFF0C;&#x67D0;&#x4E2A;&#x7CFB;&#x7EDF;&#x51FD;&#x6570;&#x6267;&#x884C;&#x5931;&#x8D25;&#x4E86;&#xFF0C;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF; errno &#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7801;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; p strerror(errno) &#x5C06;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x7801;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x5B57;&#x4FE1;&#x606F;&#x6253;&#x5370;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x7528;&#x8D39;&#x52B2;&#x5730;&#x53BB; man &#x624B;&#x518C;&#x4E0A;&#x67E5;&#x627E;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x7801;&#x5BF9;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x542B;&#x4E49;&#x4E86;&#x3002;</p>
<p>print &#x547D;&#x4EE4;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x8868;&#x8FBE;&#x5F0F;&#x7ED3;&#x679C;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x53D8;&#x91CF;&#x7684;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x5C1D;&#x8BD5;&#x5C06;&#x4E0A;&#x6587;&#x4E2D;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x4ECE; 6379 &#x6539;&#x6210; 6400 &#x8BD5;&#x8BD5;&#xFF1A;</p>
<pre><code>(gdb) p server.port=6400
$24 = 6400
(gdb) p server.port
$25 = 6400
(gdb)
</code></pre><p>&#x5F53;&#x7136;&#xFF0C;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x503C;&#x4FEE;&#x6539;&#x540E;&#x80FD;&#x5426;&#x8D77;&#x4F5C;&#x7528;&#x8981;&#x770B;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x5177;&#x4F53;&#x4F4D;&#x7F6E;&#x548C;&#x4F5C;&#x7528;&#xFF0C;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5BF9;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F; int a = b / c ; &#x5982;&#x679C;&#x5C06; c &#x4FEE;&#x6539;&#x6210; 0 &#xFF0C;&#x90A3;&#x4E48;&#x7A0B;&#x5E8F;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x9664;&#x96F6;&#x5F02;&#x5E38;&#x3002;&#x518D;&#x4F8B;&#x5982;&#xFF0C;&#x5BF9;&#x4E8E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-C"><span class="hljs-keyword">int</span> j = <span class="hljs-number">100</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; j; ++i) {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;i = %d\n&quot;</span>, i);
}
</code></pre>
<p>&#x5982;&#x679C;&#x5728;&#x5FAA;&#x73AF;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5229;&#x7528; <strong>print</strong> &#x547D;&#x4EE4;&#x5C06; j &#x7684;&#x5927;&#x5C0F;&#x7531; 100 &#x6539;&#x6210; 1000 &#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5FAA;&#x73AF;&#x5C06;&#x8F93;&#x51FA; i &#x7684;&#x503C; 1000 &#x6B21;&#x3002;</p>
<p>&#x603B;&#x7ED3;&#x8D77;&#x6765;&#xFF0C;&#x5229;&#x7528; <strong>print</strong> &#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x72B6;&#x6001;&#x503C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E34;&#x65F6;&#x4FEE;&#x6539;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x6765;&#x63A7;&#x5236;&#x7A0B;&#x5E8F;&#x7684;&#x884C;&#x4E3A;&#x3002;</p>
<p>GDB &#x8FD8;&#x6709;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x53EB; <strong>ptype</strong> &#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x5176;&#x542B;&#x4E49;&#x662F;&#x201C;print type&#x201D;&#xFF0C;&#x5C31;&#x662F;&#x8F93;&#x51FA;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x8BD5;&#x7740;&#x8F93;&#x51FA; Redis &#x5806;&#x6808; #4 &#x7684;&#x53D8;&#x91CF; server &#x548C;&#x53D8;&#x91CF; server.port &#x7684;&#x7C7B;&#x578B;&#xFF1A;</p>
<pre><code class="lang-c">(gdb) ptype server
type = <span class="hljs-keyword">struct</span> redisServer {
    <span class="hljs-keyword">pid_t</span> pid;
    <span class="hljs-keyword">char</span> *configfile;
    <span class="hljs-keyword">char</span> *executable;
    <span class="hljs-keyword">char</span> **exec_argv;
    <span class="hljs-keyword">int</span> hz;
    redisDb *db;
    ...&#x7701;&#x7565;&#x90E8;&#x5206;&#x5B57;&#x6BB5;...
(gdb) ptype server.port
type = <span class="hljs-keyword">int</span>
</code></pre>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#xFF0C;ptype &#x4E0D;&#x4EC5;&#x5217;&#x51FA;&#x4E86;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x7C7B;&#x578B;&#xFF08; &#x8FD9;&#x91CC;&#x662F;&#x4E00;&#x4E2A;&#x540D;&#x53EB; redisServer &#x7684;&#x7ED3;&#x6784;&#x4F53;&#xFF09;&#xFF0C;&#x800C;&#x4E14;&#x8BE6;&#x7EC6;&#x5730;&#x5217;&#x51FA;&#x4E86;&#x6BCF;&#x4E2A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#xFF0C;&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x8C03;&#x8BD5;&#x65F6;&#x5C31;&#x4E0D;&#x7528;&#x523B;&#x610F;&#x53BB;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x4E2D;&#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x4E86;&#x3002;</p>
<h2 id="info-&#x548C;-thread-&#x547D;&#x4EE4;">info &#x548C; thread &#x547D;&#x4EE4;</h2>
<blockquote>
<ol>
<li>thread apply all bt&#xFF1A;&#x53EF;&#x4EE5;&#x6253;&#x5370;&#x6240;&#x6709;&#x7684;&#x7EBF;&#x7A0B;&#x73B0;&#x5728;&#x7684;&#x8C03;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x5BF9;&#x4E8E;&#x6B7B;&#x9501;&#x7684;&#x95EE;&#x9898;&#x8DDF;&#x8E2A;&#x5F88;&#x6709;&#x5E2E;&#x52A9;&#x3002;</li>
<li>phreads&#x5E93;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x68C0;&#x6D4B;&#x5DE5;&#x5177;<ul>
<li>Intel Thread Checker</li>
<li>Valgrind-Helgrind</li>
</ul>
</li>
</ol>
</blockquote>
<p>&#x5728;&#x524D;&#x9762;&#x4F7F;&#x7528; <strong>info break</strong> &#x547D;&#x4EE4;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x65AD;&#x70B9;&#x65F6;&#x4ECB;&#x7ECD;&#x8FC7;&#xFF0C;info &#x547D;&#x4EE4;&#x662F;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x6307;&#x4EE4;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x60C5;&#x51B5;&#x3002;&#x4E0B;&#x9762;&#x4EE5; redis-server &#x8FDB;&#x7A0B;&#x4E3A;&#x4F8B;&#x6765;&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528; delete &#x547D;&#x4EE4;&#x5220;&#x6389;&#x6240;&#x6709;&#x65AD;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; run &#x547D;&#x4EE4;&#x91CD;&#x542F;&#x4E00;&#x4E0B; redis-server&#xFF0C;&#x7B49;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x6309;&#x5FEB;&#x6377;&#x952E; Ctrl+C &#x4E2D;&#x65AD;&#x7A0B;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; info thread &#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x6709;&#x54EA;&#x4E9B;&#x7EBF;&#x7A0B;&#xFF0C;&#x5206;&#x522B;&#x4E2D;&#x65AD;&#x5728;&#x4F55;&#x5904;&#xFF1A;</p>
<pre><code>(gdb) delete
Delete all breakpoints? (y or n) y
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/gdbtest/redis-4.0.11/src/redis-server
[Thread debugging using libthread_db enabled]
...&#x7701;&#x7565;&#x90E8;&#x5206;&#x65E0;&#x5173;&#x5185;&#x5BB9;...
53062:M 10 Sep 17:11:10.810 * Ready to accept connections
^C
Program received signal SIGINT, Interrupt.
0x00007ffff73ee923 in epoll_wait () from /lib64/libc.so.6
(gdb) info thread
  Id   Target Id         Frame
  4    Thread 0x7fffef7fd700 (LWP 53065) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
  3    Thread 0x7fffefffe700 (LWP 53064) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
  2    Thread 0x7ffff07ff700 (LWP 53063) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
* 1    Thread 0x7ffff7fec780 (LWP 53062) &quot;redis-server&quot; 0x00007ffff73ee923 in epoll_wait () from /lib64/libc.so.6
</code></pre><p>&#x901A;&#x8FC7; <strong>info thread</strong> &#x7684;&#x8F93;&#x51FA;&#x53EF;&#x4EE5;&#x77E5;&#x9053; redis-server &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x4E00;&#x5171;&#x4EA7;&#x751F;&#x4E86; 4 &#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x4E3B;&#x7EBF;&#x7A0B;&#x548C;&#x4E09;&#x4E2A;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#xFF0C;&#x7EBF;&#x7A0B;&#x7F16;&#x53F7;&#xFF08;Id &#x90A3;&#x4E00;&#x5217;&#xFF09;&#x5206;&#x522B;&#x662F; 4&#x3001;3&#x3001;2&#x3001;1&#x3002;&#x4E09;&#x4E2A;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#xFF08;2&#x3001;3&#x3001;4&#xFF09;&#x5206;&#x522B;&#x963B;&#x585E;&#x5728; Linux API pthread_cond_wait &#x5904;&#xFF0C;&#x800C;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF08;1&#xFF09;&#x963B;&#x585E;&#x5728; epoll_wait &#x5904;&#x3002;</p>
<blockquote>
<p><strong>&#x6CE8;&#x610F;</strong>&#xFF1A;&#x867D;&#x7136;&#x7B2C;&#x4E00;&#x680F;&#x7684;&#x540D;&#x79F0;&#x53EB; Id&#xFF0C;&#x4F46;&#x7B2C;&#x4E00;&#x680F;&#x7684;&#x6570;&#x503C;&#x4E0D;&#x662F;&#x7EBF;&#x7A0B;&#x7684; Id&#xFF0C;&#x7B2C;&#x4E09;&#x680F;&#x62EC;&#x53F7;&#x91CC;&#x7684;&#x5185;&#x5BB9;&#xFF08;&#x5982; LWP 53065&#xFF09;&#x4E2D;&#xFF0C;53065 &#x8FD9;&#x6837;&#x7684;&#x6570;&#x503C;&#x624D;&#x662F;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x771F;&#x6B63;&#x7684; Id&#x3002;&#x90A3; LWP &#x662F;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x5462;&#xFF1F;&#x5728;&#x65E9;&#x671F;&#x7684; Linux &#x7CFB;&#x7EDF;&#x7684;&#x5185;&#x6838;&#x91CC;&#x9762;&#xFF0C;&#x5176;&#x5B9E;&#x4E0D;&#x5B58;&#x5728;&#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x5B9E;&#x73B0;&#xFF0C;&#x5F53;&#x65F6;&#x6240;&#x6709;&#x7684;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x7528;&#x8FDB;&#x7A0B;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x8FD9;&#x4E9B;&#x6A21;&#x62DF;&#x7EBF;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x88AB;&#x79F0;&#x4E3A; Light Weight Process&#xFF08;&#x8F7B;&#x91CF;&#x7EA7;&#x8FDB;&#x7A0B;&#xFF09;&#xFF0C;&#x540E;&#x6765; Linux &#x7CFB;&#x7EDF;&#x6709;&#x4E86;&#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x4ECD;&#x7136;&#x88AB;&#x4FDD;&#x7559;&#x4E86;&#x4E0B;&#x6765;&#x3002;</p>
</blockquote>
<p>&#x8BFB;&#x8005;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x7591;&#x95EE;&#xFF1A;&#x600E;&#x4E48;&#x77E5;&#x9053;&#x7EBF;&#x7A0B; 1 &#x5C31;&#x662F;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF1F;&#x7EBF;&#x7A0B; 2&#x3001;&#x7EBF;&#x7A0B; 3&#x3001;&#x7EBF;&#x7A0B; 4 &#x5C31;&#x662F;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x5462;&#xFF1F;&#x662F;&#x4E0D;&#x662F;&#x56E0;&#x4E3A;&#x7EBF;&#x7A0B; 1 &#x524D;&#x9762;&#x6709;&#x4E2A;&#x661F;&#x53F7;&#xFF08;<em>&#xFF09;&#xFF1F;&#x9519;&#x4E86;&#xFF0C;&#x7EBF;&#x7A0B;&#x7F16;&#x53F7;&#x524D;&#x9762;&#x8FD9;&#x4E2A;&#x661F;&#x53F7;&#x8868;&#x793A;&#x7684;&#x662F;&#x5F53;&#x524D; GDB &#x4F5C;&#x7528;&#x4E8E;&#x54EA;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;&#x610F;&#x601D;&#x3002;&#x73B0;&#x5728;&#x6709; 4 &#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E5F;&#x5C31;&#x6709; 4 &#x4E2A;&#x8C03;&#x7528;&#x5806;&#x6808;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x8F93;&#x5165; <strong>backtrace</strong> &#x547D;&#x4EE4;&#x67E5;&#x770B;&#x8C03;&#x7528;&#x5806;&#x6808;&#xFF0C;&#x7531;&#x4E8E;&#x5F53;&#x524D; GDB &#x4F5C;&#x7528;&#x5728;&#x7EBF;&#x7A0B; 1&#xFF0C;&#x56E0;&#x6B64; <em>*backtrace</em></em> &#x547D;&#x4EE4;&#x663E;&#x793A;&#x7684;&#x4E00;&#x5B9A;&#x662F;&#x7EBF;&#x7A0B; 1 &#x7684;&#x8C03;&#x7528;&#x5806;&#x6808;&#xFF1A;</p>
<pre><code>(gdb) bt
#0  0x00007ffff73ee923 in epoll_wait () from /lib64/libc.so.6
#1  0x00000000004265df in aeApiPoll (tvp=0x7fffffffe300, eventLoop=0x7ffff08350a0) at ae_epoll.c:112
#2  aeProcessEvents (eventLoop=eventLoop@entry=0x7ffff08350a0, flags=flags@entry=11) at ae.c:411
#3  0x0000000000426aeb in aeMain (eventLoop=0x7ffff08350a0) at ae.c:501
#4  0x00000000004238ef in main (argc=1, argv=0x7fffffffe648) at server.c:3899
</code></pre><p>&#x7531;&#x6B64;&#x53EF;&#x89C1;&#xFF0C;&#x5806;&#x6808; #4 &#x7684; main() &#x51FD;&#x6570;&#x4E5F;&#x8BC1;&#x5B9E;&#x4E86;&#x4E0A;&#x9762;&#x7684;&#x8BF4;&#x6CD5;&#xFF0C;&#x5373;&#x7EBF;&#x7A0B;&#x7F16;&#x53F7;&#x4E3A; 1 &#x7684;&#x7EBF;&#x7A0B;&#x662F;&#x4E3B;&#x7EBF;&#x7A0B;&#x3002;</p>
<p>&#x5982;&#x4F55;&#x5207;&#x6362;&#x5230;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;thread &#x7EBF;&#x7A0B;&#x7F16;&#x53F7;&#x201D;&#x5207;&#x6362;&#x5230;&#x5177;&#x4F53;&#x7684;&#x7EBF;&#x7A0B;&#x4E0A;&#x53BB;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x60F3;&#x5207;&#x6362;&#x5230;&#x7EBF;&#x7A0B; 2 &#x4E0A;&#x53BB;&#xFF0C;&#x53EA;&#x8981;&#x8F93;&#x5165; <strong>thread 2</strong> &#x5373;&#x53EF;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x5165; <strong>bt</strong> &#x5C31;&#x80FD;&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x8C03;&#x7528;&#x5806;&#x6808;&#x4E86;&#xFF1A;</p>
<pre><code>(gdb) info thread
  Id   Target Id         Frame
  4    Thread 0x7fffef7fd700 (LWP 53065) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
  3    Thread 0x7fffefffe700 (LWP 53064) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
  2    Thread 0x7ffff07ff700 (LWP 53063) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
* 1    Thread 0x7ffff7fec780 (LWP 53062) &quot;redis-server&quot; 0x00007ffff73ee923 in epoll_wait () from /lib64/libc.so.6
(gdb) thread 2
[Switching to thread 2 (Thread 0x7ffff07ff700 (LWP 53063))]
#0  0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
(gdb) bt
#0  0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x000000000047a91c in bioProcessBackgroundJobs (arg=0x0) at bio.c:176
#2  0x00007ffff76c0e25 in start_thread () from /lib64/libpthread.so.0
#3  0x00007ffff73ee34d in clone () from /lib64/libc.so.6
</code></pre><p>&#x56E0;&#x6B64;&#x5229;&#x7528; <strong>info thread</strong> &#x547D;&#x4EE4;&#x5C31;&#x53EF;&#x4EE5;&#x8C03;&#x8BD5;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#xFF0C;&#x5F53;&#x7136;&#x7528; GDB &#x8C03;&#x8BD5;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x9EBB;&#x70E6;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x540E;&#x9762;&#x7684; GDB &#x9AD8;&#x7EA7;&#x8C03;&#x8BD5;&#x6280;&#x5DE7;&#x4E2D;&#x4ECB;&#x7ECD;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5F53;&#x628A; GDB &#x5F53;&#x524D;&#x4F5C;&#x7528;&#x7684;&#x7EBF;&#x7A0B;&#x5207;&#x6362;&#x5230;&#x7EBF;&#x7A0B; 2 &#x4E0A;&#x4E4B;&#x540E;&#xFF0C;&#x7EBF;&#x7A0B; 2 &#x524D;&#x9762;&#x5C31;&#x88AB;&#x52A0;&#x4E0A;&#x4E86;&#x661F;&#x53F7;&#xFF1A;</p>
<pre><code>(gdb) info thread
  Id   Target Id         Frame
  4    Thread 0x7fffef7fd700 (LWP 53065) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
  3    Thread 0x7fffefffe700 (LWP 53064) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
* 2    Thread 0x7ffff07ff700 (LWP 53063) &quot;redis-server&quot; 0x00007ffff76c4945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
  1    Thread 0x7ffff7fec780 (LWP 53062) &quot;redis-server&quot; 0x00007ffff73ee923 in epoll_wait () from /lib64/libc.so.6
</code></pre><p><strong>info</strong> &#x547D;&#x4EE4;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x7EC4;&#x5408;&#x547D;&#x4EE4;&#x662F; <strong>info args</strong>&#xFF0C;&#x6211;&#x4EEC;&#x627E;&#x4E2A;&#x51FD;&#x6570;&#x503C;&#x591A;&#x4E00;&#x70B9;&#x7684;&#x5806;&#x6808;&#x51FD;&#x6570;&#x6765;&#x8BD5;&#x4E00;&#x4E0B;&#xFF1A;</p>
<pre><code>(gdb) thread 1
[Switching to thread 1 (Thread 0x7ffff7fec780 (LWP 53062))]
#0  0x00007ffff73ee923 in epoll_wait () from /lib64/libc.so.6
(gdb) bt
#0  0x00007ffff73ee923 in epoll_wait () from /lib64/libc.so.6
#1  0x00000000004265df in aeApiPoll (tvp=0x7fffffffe300, eventLoop=0x7ffff08350a0) at ae_epoll.c:112
#2  aeProcessEvents (eventLoop=eventLoop@entry=0x7ffff08350a0, flags=flags@entry=11) at ae.c:411
#3  0x0000000000426aeb in aeMain (eventLoop=0x7ffff08350a0) at ae.c:501
#4  0x00000000004238ef in main (argc=1, argv=0x7fffffffe648) at server.c:3899
(gdb) f 2
#2  aeProcessEvents (eventLoop=eventLoop@entry=0x7ffff08350a0, flags=flags@entry=11) at ae.c:411
411             numevents = aeApiPoll(eventLoop, tvp);
(gdb) info args
eventLoop = 0x7ffff08350a0
flags = 11
(gdb)
</code></pre><p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x5207;&#x56DE;&#x81F3;&#x4E3B;&#x7EBF;&#x7A0B; 1&#xFF0C;&#x7136;&#x540E;&#x5207;&#x6362;&#x5230;&#x5806;&#x6808; #2&#xFF0C;&#x5806;&#x6808; #2 &#x8C03;&#x7528;&#x5904;&#x7684;&#x51FD;&#x6570;&#x662F; aeProcessEvents() &#xFF0C;&#x4E00;&#x5171;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F7F;&#x7528; <strong>info args</strong> &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x5F53;&#x524D;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x503C;&#xFF0C;&#x53C2;&#x6570; eventLoop &#x662F;&#x4E00;&#x4E2A;&#x6307;&#x9488;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5BF9;&#x4E8E;&#x6307;&#x9488;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#xFF0C;GDB &#x9ED8;&#x8BA4;&#x4F1A;&#x8F93;&#x51FA;&#x8BE5;&#x53D8;&#x91CF;&#x7684;&#x6307;&#x9488;&#x5730;&#x5740;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8F93;&#x51FA;&#x8BE5;&#x6307;&#x9488;&#x6307;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x503C;&#xFF0C;&#x5728;&#x53D8;&#x91CF;&#x540D;&#x524D;&#x9762;&#x52A0;&#x4E0A; <em> &#x89E3;&#x5F15;&#x7528;&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528; p </em>eventLoop &#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>(gdb) p *eventLoop
$26 = {maxfd = 11, setsize = 10128, timeEventNextId = 1, lastTime = 1536570672, events = 0x7ffff0871480, fired = 0x7ffff08c2e40, timeEventHead = 0x7ffff0822080,
  stop = 0, apidata = 0x7ffff08704a0, beforesleep = 0x429590 &lt;beforeSleep&gt;, aftersleep = 0x4296d0 &lt;afterSleep&gt;}
</code></pre><p>&#x5982;&#x679C;&#x8FD8;&#x8981;&#x67E5;&#x770B;&#x5176;&#x6210;&#x5458;&#x503C;&#xFF0C;&#x7EE7;&#x7EED;&#x4F7F;&#x7528; <strong>&#x53D8;&#x91CF;&#x540D; -&gt;&#x5B57;&#x6BB5;&#x540D;</strong> &#x5373;&#x53EF;&#xFF0C;&#x5728;&#x524D;&#x9762;&#x5B66;&#x4E60; print &#x547D;&#x4EE4;&#x65F6;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x8FC7;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x3002;</p>
<p>&#x4E0A;&#x9762;&#x4ECB;&#x7ECD;&#x7684;&#x662F; <strong>info</strong> &#x547D;&#x4EE4;&#x6700;&#x5E38;&#x7528;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x66F4;&#x591A;&#x5173;&#x4E8E; info &#x7684;&#x7EC4;&#x5408;&#x547D;&#x4EE4;&#x5728; GDB &#x4E2D;&#x8F93;&#x5165; <strong>help info</strong> &#x5C31;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#xFF1A;</p>
<pre><code>(gdb) help info
Generic command for showing things about the program being debugged.

List of info subcommands:

info address -- Describe where symbol SYM is stored
info all-registers -- List of all registers and their contents
info args -- Argument variables of current stack frame
info auto-load -- Print current status of auto-loaded files
info auto-load-scripts -- Print the list of automatically loaded Python scripts
info auxv -- Display the inferior&apos;s auxiliary vector
info bookmarks -- Status of user-settable bookmarks
info breakpoints -- Status of specified breakpoints (all user-settable breakpoints if no argument)
info checkpoints -- IDs of currently known checkpoints
info classes -- All Objective-C classes
info common -- Print out the values contained in a Fortran COMMON block
info copying -- Conditions for redistributing copies of GDB
info dcache -- Print information on the dcache performance
info display -- Expressions to display when program stops
info extensions -- All filename extensions associated with a source language
info files -- Names of targets and files being debugged
info float -- Print the status of the floating point unit
info frame -- All about selected stack frame
info frame-filter -- List all registered Python frame-filters
info functions -- All function names
info handle -- What debugger does when program gets various signals
info inferiors -- IDs of specified inferiors (all inferiors if no argument)
info line -- Core addresses of the code for a source line
info locals -- Local variables of current stack frame
info macro -- Show the definition of MACRO
info macros -- Show the definitions of all macros at LINESPEC
info mem -- Memory region attributes
info os -- Show OS data ARG
info pretty-printer -- GDB command to list all registered pretty-printers
info probes -- Show available static probes
info proc -- Show /proc process information about any running process
info program -- Execution status of the program
info record -- Info record options
info registers -- List of integer registers and their contents
info scope -- List the variables local to a scope
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
info selectors -- All Objective-C selectors
info set -- Show all GDB settings
info sharedlibrary -- Status of loaded shared object libraries
info signals -- What debugger does when program gets various signals
info skip -- Display the status of skips
info source -- Information about the current source file
info sources -- Source files in the program
info stack -- Backtrace of the stack
info static-tracepoint-markers -- List target static tracepoints markers
info symbol -- Describe what symbol is at location ADDR
info target -- Names of targets and files being debugged
info tasks -- Provide information about all known Ada tasks
info terminal -- Print inferior&apos;s saved terminal status
info threads -- Display currently known threads
info tracepoints -- Status of specified tracepoints (all tracepoints if no argument)
info tvariables -- Status of trace state variables and their values
info type-printers -- GDB command to list all registered type-printers
info types -- All type names
info variables -- All global and static variable names
info vector -- Print the status of the vector unit
info vtbl -- Show the virtual function table for a C++ object
info warranty -- Various kinds of warranty you do not have
info watchpoints -- Status of specified watchpoints (all watchpoints if no argument)
info win -- List of all displayed windows

Type &quot;help info&quot; followed by info subcommand name for full documentation.
Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;.
Command name abbreviations are allowed if unambiguous.
</code></pre><h2 id="next&#x3001;step&#x3001;until&#x3001;finish&#x3001;return-&#x548C;-jump-&#x547D;&#x4EE4;">next&#x3001;step&#x3001;until&#x3001;finish&#x3001;return &#x548C; jump &#x547D;&#x4EE4;</h2>
<p>&#x8FD9;&#x51E0;&#x4E2A;&#x547D;&#x4EE4;&#x662F;&#x6211;&#x4EEC;&#x7528; GDB &#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;&#x65F6;&#x6700;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x63A7;&#x5236;&#x6D41;&#x547D;&#x4EE4;&#xFF0C;&#x56E0;&#x6B64;&#x653E;&#x5728;&#x4E00;&#x8D77;&#x4ECB;&#x7ECD;&#x3002;<strong>next</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; n&#xFF09;&#x662F;&#x8BA9; GDB &#x8C03;&#x5230;&#x4E0B;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x53BB;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x4E0B;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x4EE3;&#x7801;&#x7684;&#x4E0B;&#x4E00;&#x884C;&#xFF0C;&#x800C;&#x662F;&#x6839;&#x636E;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#x8DF3;&#x8F6C;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>int a = 0;
if (a == 9)
{
    print(&quot;a is equal to 9.\n&quot;);
}

int b = 10;
print(&quot;b = %d.\n&quot;, b);
</code></pre><p>&#x5982;&#x679C;&#x5F53;&#x524D; GDB &#x4E2D;&#x65AD;&#x5728;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x7B2C; 2 &#x884C;&#xFF0C;&#x6B64;&#x65F6;&#x8F93;&#x5165; <strong>next</strong> &#x547D;&#x4EE4; GDB &#x5C06;&#x8C03;&#x5230;&#x7B2C; 7 &#x884C;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x7684; if &#x6761;&#x4EF6;&#x5E76;&#x4E0D;&#x6EE1;&#x8DB3;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x5C0F;&#x6280;&#x5DE7;&#xFF0C;&#x5728; GDB &#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x6309;&#x4E0B;&#x56DE;&#x8F66;&#x952E;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x5C06;&#x6700;&#x8FD1;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x4E00;&#x904D;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5F53;&#x4F7F;&#x7528; <strong>next</strong> &#x547D;&#x4EE4;&#x5355;&#x6B65;&#x8C03;&#x8BD5;&#x65F6;&#xFF0C;&#x4E0D;&#x5FC5;&#x53CD;&#x590D;&#x8F93;&#x5165; <strong>n</strong> &#x547D;&#x4EE4;&#xFF0C;&#x76F4;&#x63A5;&#x56DE;&#x8F66;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>
<pre><code>3704    int main(int argc, char **argv) {
(gdb) n
3736        spt_init(argc, argv);
(gdb) n
3738        setlocale(LC_COLLATE,&quot;&quot;);
(gdb) n
3739        zmalloc_set_oom_handler(redisOutOfMemoryHandler);
(gdb) n
3740        srand(time(NULL)^getpid());
(gdb) n
3752        server.exec_argv = zmalloc(sizeof(char*)*(argc+1));
(gdb) n
3740        srand(time(NULL)^getpid());
(gdb) n
3741        gettimeofday(&amp;tv,NULL);
(gdb) n
3752        server.exec_argv = zmalloc(sizeof(char*)*(argc+1));
(gdb)
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x7B49;&#x4EF7;&#x4E8E;&#x8F93;&#x5165;&#x7B2C;&#x4E00;&#x4E2A; <strong>n</strong> &#x540E;&#x76F4;&#x63A5;&#x56DE;&#x8F66;&#xFF1A;</p>
<pre><code>(gdb) n
3736        spt_init(argc, argv);
(gdb)
3738        setlocale(LC_COLLATE,&quot;&quot;);
(gdb)
3739        zmalloc_set_oom_handler(redisOutOfMemoryHandler);
(gdb)
3740        srand(time(NULL)^getpid());
(gdb)
3752        server.exec_argv = zmalloc(sizeof(char*)*(argc+1));
(gdb)
</code></pre><p><strong>next</strong> &#x547D;&#x4EE4;&#x7528;&#x8C03;&#x8BD5;&#x7684;&#x672F;&#x8BED;&#x53EB;&#x201C;&#x5355;&#x6B65;&#x6B65;&#x8FC7;&#x201D;&#xFF08;step over&#xFF09;&#xFF0C;&#x5373;&#x9047;&#x5230;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#xFF0C;&#x4E0D;&#x8FDB;&#x5165;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x90E8;&#x3002;&#x800C;&#x4E0B;&#x9762;&#x7684; <strong>step</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; <strong>s</strong>&#xFF09;&#x5C31;&#x662F;&#x201C;&#x5355;&#x6B65;&#x6B65;&#x5165;&#x201D;&#xFF08;step into&#xFF09;&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x5C31;&#x662F;&#x9047;&#x5230;&#x51FD;&#x6570;&#x8C03;&#x7528;&#xFF0C;&#x8FDB;&#x5165;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5728; redis-server &#x7684; main() &#x51FD;&#x6570;&#x4E2D;&#x6709;&#x4E2A;&#x53EB; spt_init(argc, argv) &#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x505C;&#x5728;&#x8FD9;&#x4E00;&#x884C;&#x65F6;&#xFF0C;&#x8F93;&#x5165; s &#x5C06;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x3002;</p>
<pre><code>//&#x4E3A;&#x4E86;&#x8BF4;&#x660E;&#x95EE;&#x9898;&#x672C;&#x8EAB;&#xFF0C;&#x9664;&#x53BB;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x5E72;&#x6270;&#xFF0C;&#x4EE3;&#x7801;&#x6709;&#x5220;&#x51CF;
int main(int argc, char **argv) {
    struct timeval tv;
    int j;
    /* We need to initialize our libraries, and the server configuration. */
    spt_init(argc, argv);
    setlocale(LC_COLLATE,&quot;&quot;);
    zmalloc_set_oom_handler(redisOutOfMemoryHandler);
    srand(time(NULL)^getpid());
    gettimeofday(&amp;tv,NULL);
    char hashseed[16];
    getRandomHexChars(hashseed,sizeof(hashseed));
    dictSetHashFunctionSeed((uint8_t*)hashseed);
    server.sentinel_mode = checkForSentinelMode(argc,argv);
    initServerConfig();
    moduleInitModulesSystem();
    //&#x7701;&#x7565;&#x90E8;&#x5206;&#x65E0;&#x5173;&#x4EE3;&#x7801;...
 }
</code></pre><p>&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#xFF0C;&#x5148;&#x4F7F;&#x7528; <strong>b main</strong> &#x547D;&#x4EE4;&#x5728; main() &#x5904;&#x52A0;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; r &#x547D;&#x4EE4;&#x91CD;&#x65B0;&#x8DD1;&#x4E00;&#x4E0B;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1;&#x521A;&#x624D;&#x52A0;&#x5728; main() &#x51FD;&#x6570;&#x5904;&#x7684;&#x65AD;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; <strong>n</strong> &#x547D;&#x4EE4;&#x8BA9;&#x7A0B;&#x5E8F;&#x8D70;&#x5230; spt_init(argc, argv) &#x51FD;&#x6570;&#x8C03;&#x7528;&#x5904;&#xFF0C;&#x518D;&#x8F93;&#x5165; <strong>s</strong> &#x547D;&#x4EE4;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;&#x8BE5;&#x51FD;&#x6570;&#x4E86;&#xFF1A;</p>
<pre><code>(gdb) b main
Breakpoint 3 at 0x423450: file server.c, line 3704.
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/redis-4.0.9/src/redis-server
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.

Breakpoint 3, main (argc=1, argv=0x7fffffffe588) at server.c:3704
3704    int main(int argc, char **argv) {
(gdb) n
3736        spt_init(argc, argv);
(gdb) s
spt_init (argc=argc@entry=1, argv=argv@entry=0x7fffffffe588) at setproctitle.c:152
152     void spt_init(int argc, char *argv[]) {
(gdb) l
147
148             return 0;
149     } /* spt_copyargs() */
150
151
152     void spt_init(int argc, char *argv[]) {
153             char **envp = environ;
154             char *base, *end, *nul, *tmp;
155             int i, error;
156
(gdb)
</code></pre><p>&#x8BF4;&#x5230; <strong>step</strong> &#x547D;&#x4EE4;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5C31;&#x662F;&#x5F53;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x4E5F;&#x662F;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; <strong>step</strong> &#x547D;&#x4EE4;&#x4F1A;&#x4F9D;&#x6B21;&#x8FDB;&#x5165;&#x5404;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x987A;&#x5E8F;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code>1  int fun1(int a, int b)
2  {
3     int c = a + b;
4     c += 2;
5     return c;
6  }
7
8  int func2(int p, int q)
9  {
10    int t = q * p;
11       return t * t;
12 }
13
14 int func3(int m, int n)
15 {
16    return m + n;
17 }
18
19 int main()
20 {
21    int c;
22    c = func3(func1(1, 2),  func2(8, 9));
23    printf(&quot;c=%d.\n&quot;, c);
24    return 0;
25 }
</code></pre><p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x7A0B;&#x5E8F;&#x5165;&#x53E3;&#x662F; main() &#x51FD;&#x6570;&#xFF0C;&#x5728;&#x7B2C; 22 &#x884C; func3 &#x4F7F;&#x7528; func1 &#x548C; func2 &#x7684;&#x8FD4;&#x56DE;&#x503C;&#x4F5C;&#x4E3A;&#x81EA;&#x5DF1;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5728;&#x7B2C; 22 &#x884C;&#x8F93;&#x5165; <strong>step</strong> &#x547D;&#x4EE4;&#xFF0C;&#x4F1A;&#x5148;&#x8FDB;&#x5165;&#x54EA;&#x4E2A;&#x51FD;&#x6570;&#x5462;&#xFF1F;&#x8FD9;&#x91CC;&#x5C31;&#x9700;&#x8981;&#x8865;&#x5145;&#x4E00;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#x4E86;&#x2014;&#x2014; &#x51FD;&#x6570;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x6709; _cdecl &#x548C; _stdcall&#xFF0C;C++ &#x975E;&#x9759;&#x6001;&#x6210;&#x5458;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x662F; _thiscall &#x3002;&#x5728;&#x8FD9;&#x4E9B;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x4F20;&#x9012;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x5165;&#x6808;&#x8FC7;&#x7A0B;&#xFF0C;&#x800C;&#x8FD9;&#x4E09;&#x79CD;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x53C2;&#x6570;&#x7684;&#x5165;&#x6808;&#x987A;&#x5E8F;&#x90FD;&#x662F;&#x4ECE;&#x53F3;&#x5F80;&#x5DE6;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x6807;&#x660E;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#xFF0C;&#x91C7;&#x7528;&#x9ED8;&#x8BA4; _cdecl &#x65B9;&#x5F0F;&#x3002;</p>
<p>&#x5F53;&#x6211;&#x4EEC;&#x5728;&#x7B2C; 22 &#x884C;&#x4EE3;&#x7801;&#x5904;&#x8F93;&#x5165; <strong>step</strong> &#x5148;&#x8FDB;&#x5165;&#x7684;&#x662F; func2() &#xFF0C;&#x5F53;&#x4ECE; func2() &#x8FD4;&#x56DE;&#x65F6;&#x518D;&#x6B21;&#x8F93;&#x5165; <strong>step</strong> &#x547D;&#x4EE4;&#x4F1A;&#x63A5;&#x7740;&#x8FDB;&#x5165; func1() &#xFF0C;&#x5F53;&#x4ECE; func1 &#x8FD4;&#x56DE;&#x65F6;&#xFF0C;&#x6B64;&#x65F6;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x5DF2;&#x7ECF;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x4F1A;&#x6700;&#x7EC8;&#x8FDB;&#x5165; func3() &#x3002;&#x7406;&#x89E3;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x5728;&#x9047;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x624D;&#x80FD;&#x6839;&#x636E;&#x9700;&#x8981;&#x8FDB;&#x5165;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x51FD;&#x6570;&#x4E2D;&#x53BB;&#x8C03;&#x8BD5;&#x3002;</p>
<p>&#x5B9E;&#x9645;&#x8C03;&#x8BD5;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#x8C03;&#x8BD5;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x4E00;&#x6B65;&#x6B65;&#x6267;&#x884C;&#x5230;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x5904;&#xFF0C;&#x5E0C;&#x671B;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x5B8C;&#x5F53;&#x524D;&#x51FD;&#x6570;&#x5E76;&#x56DE;&#x5230;&#x4E0A;&#x4E00;&#x5C42;&#x8C03;&#x7528;&#x5904;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>finish</strong> &#x547D;&#x4EE4;&#x3002;&#x4E0E; <strong>finish</strong> &#x547D;&#x4EE4;&#x7C7B;&#x4F3C;&#x7684;&#x8FD8;&#x6709; <strong>return</strong> &#x547D;&#x4EE4;&#xFF0C;<strong>return</strong> &#x547D;&#x4EE4;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x7ED3;&#x675F;&#x6267;&#x884C;&#x5F53;&#x524D;&#x51FD;&#x6570;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8BE5;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;&#x4E8C;&#x8005;&#x7684;&#x533A;&#x522B;&#xFF1A;<strong>finish</strong> &#x547D;&#x4EE4;&#x4F1A;&#x6267;&#x884C;&#x51FD;&#x6570;&#x5230;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x8BE5;&#x51FD;&#x6570;&#xFF1B;&#x800C; <strong>return</strong> &#x547D;&#x4EE4;&#x662F;&#x7ACB;&#x5373;&#x7ED3;&#x675F;&#x6267;&#x884C;&#x5F53;&#x524D;&#x51FD;&#x6570;&#x5E76;&#x8FD4;&#x56DE;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x51FD;&#x6570;&#x8FD8;&#x6709;&#x5269;&#x4F59;&#x7684;&#x4EE3;&#x7801;&#x672A;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x7528;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x6765;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;&#xFF1A;</p>
<pre><code>1  #include &lt;stdio.h&gt;
2
3  int func()
4  {
5     int a = 9;
6     printf(&quot;a=%d.\n&quot;, a);
7
8     int b = 8;
9     printf(&quot;b=%d.\n&quot;, b);
10    return a + b;
11 }
12
13 int main()
14 {
15    int c = func();
16    printf(&quot;c=%d.\n&quot;, c);
17
18    return 0;
19 }
</code></pre><p>&#x5728; main() &#x51FD;&#x6570;&#x5904;&#x52A0;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#xFF0C;&#x5728;&#x7B2C; 15 &#x884C;&#x4F7F;&#x7528; <strong>step</strong> &#x547D;&#x4EE4;&#x8FDB;&#x5165; func() &#x51FD;&#x6570;&#xFF0C;&#x63A5;&#x7740;&#x5355;&#x6B65;&#x5230;&#x4EE3;&#x7801;&#x7B2C; 8 &#x884C;&#xFF0C;&#x76F4;&#x63A5;&#x8F93;&#x5165; <strong>return</strong> &#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x6837; func() &#x51FD;&#x6570;&#x5269;&#x4F59;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x4E86;&#xFF0C;&#x56E0;&#x6B64; printf(&quot;b=%d.\n&quot;, b); &#x8FD9;&#x4E00;&#x884C;&#x5C31;&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x3002;&#x540C;&#x65F6;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x5728; <strong>return</strong> &#x547D;&#x4EE4;&#x4E2D;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x56E0;&#x800C;&#x6700;&#x7EC8;&#x5728; main() &#x51FD;&#x6570;&#x4E2D;&#x5F97;&#x5230;&#x7684;&#x53D8;&#x91CF; c &#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x810F;&#x6570;&#x636E;&#x3002;&#x8FD9;&#x4E5F;&#x5C31;&#x9A8C;&#x8BC1;&#x4E86;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x8BF4;&#x7684;&#xFF1A;<strong>return</strong>&#x547D;&#x4EE4;&#x5728;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x7ACB;&#x5373;&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x5230;&#x4E0A;&#x4E00;&#x5C42;&#x8C03;&#x7528;&#x3002;</p>
<pre><code>(gdb) b main
Breakpoint 1 at 0x40057d: file test.c, line 15.
(gdb) r
Starting program: /root/testreturn/test

Breakpoint 1, main () at test.c:15
15          int c = func();
Missing separate debuginfos, use: debuginfo-install glibc-2.17-196.el7_4.2.x86_64
(gdb) s
func () at test.c:5
5           int a = 9;
(gdb) n
6           printf(&quot;a=%d.\n&quot;, a);
(gdb) n
a=9.
8           int b = 8;
(gdb) return
Make func return now? (y or n) y
#0  0x0000000000400587 in main () at test.c:15
15          int c = func();
(gdb) n
16          printf(&quot;c=%d.\n&quot;, c);
(gdb) n
c=-134250496.
18          return 0;
(gdb)
</code></pre><p>&#x518D;&#x6B21;&#x7528; <strong>return</strong> &#x547D;&#x4EE4;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x503C;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x6837;&#x5F97;&#x5230;&#x53D8;&#x91CF; c &#x7684;&#x503C;&#x5E94;&#x8BE5;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x7684;&#x503C;&#x3002;</p>
<pre><code>(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/testreturn/test

Breakpoint 1, main () at test.c:15
15          int c = func();
(gdb) s
func () at test.c:5
5           int a = 9;
(gdb) n
6           printf(&quot;a=%d.\n&quot;, a);
(gdb) n
a=9.
8           int b = 8;
(gdb) return 9999
Make func return now? (y or n) y
#0  0x0000000000400587 in main () at test.c:15
15          int c = func();
(gdb) n
16          printf(&quot;c=%d.\n&quot;, c);
(gdb) n
c=9999.
18          return 0;
(gdb) p c
$1 = 9999
(gdb)
</code></pre><p>&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x7528; <strong>return</strong> &#x547D;&#x4EE4;&#x4FEE;&#x6539;&#x4E86;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x5F53;&#x4F7F;&#x7528; <strong>print</strong> &#x547D;&#x4EE4;&#x6253;&#x5370; c &#x503C;&#x7684;&#x65F6;&#x5019;&#xFF0C;c &#x503C;&#x4E5F;&#x786E;&#x5B9E;&#x88AB;&#x4FEE;&#x6539;&#x6210;&#x4E86; 9999&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x518D;&#x5BF9;&#x6BD4;&#x4E00;&#x4E0B;&#x4F7F;&#x7528; <strong>finish</strong> &#x547D;&#x4EE4;&#x6765;&#x7ED3;&#x675F;&#x51FD;&#x6570;&#x6267;&#x884C;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code>(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/testreturn/test

Breakpoint 1, main () at test.c:15
15          int c = func();
(gdb) s
func () at test.c:5
5           int a = 9;
(gdb) n
6           printf(&quot;a=%d.\n&quot;, a);
(gdb) n
a=9.
8           int b = 8;
(gdb) finish
Run till exit from #0  func () at test.c:8
b=8.
0x0000000000400587 in main () at test.c:15
15          int c = func();
Value returned is $3 = 17
(gdb) n
16          printf(&quot;c=%d.\n&quot;, c);
(gdb) n
c=9999.
18          return 0;
(gdb)
</code></pre><p>&#x7ED3;&#x679C;&#x548C;&#x6211;&#x4EEC;&#x9884;&#x671F;&#x7684;&#x4E00;&#x6837;&#xFF0C;<strong>finish</strong> &#x6B63;&#x5E38;&#x7ED3;&#x675F;&#x51FD;&#x6570;&#xFF0C;&#x5269;&#x4F59;&#x7684;&#x4EE3;&#x7801;&#x4E5F;&#x4F1A;&#x88AB;&#x6B63;&#x5E38;&#x6267;&#x884C;&#x3002;&#x56E0;&#x6B64; c &#x7684;&#x503C;&#x662F; 17&#x3002;</p>
<p>&#x5B9E;&#x9645;&#x8C03;&#x8BD5;&#x65F6;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A; <strong>until</strong> &#x547D;&#x4EE4;&#xFF08;&#x7B80;&#x5199;&#x4E3A; <strong>u</strong>&#xFF09;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5230;&#x67D0;&#x4E00;&#x884C;&#x505C;&#x4E0B;&#x6765;&#xFF0C;&#x8FD8;&#x662F;&#x4EE5; redis-server &#x7684;&#x4EE3;&#x7801;&#x4E3A;&#x4F8B;&#xFF1A;</p>
<pre><code>1812    void initServer(void) {
1813        int j;
1814
1815        signal(SIGHUP, SIG_IGN);
1816        signal(SIGPIPE, SIG_IGN);
1817        setupSignalHandlers();
1818
1819        if (server.syslog_enabled) {
1820            openlog(server.syslog_ident, LOG_PID | LOG_NDELAY | LOG_NOWAIT,
1821                server.syslog_facility);
1822        }
1823
1824        server.pid = getpid();
1825        server.current_client = NULL;
1826        server.clients = listCreate();
1827        server.clients_to_close = listCreate();
1828        server.slaves = listCreate();
1829        server.monitors = listCreate();
1830        server.clients_pending_write = listCreate();
1831        server.slaveseldb = -1; /* Force to emit the first SELECT command. */
1832        server.unblocked_clients = listCreate();
1833        server.ready_keys = listCreate();
1834        server.clients_waiting_acks = listCreate();
1835        server.get_ack_from_slaves = 0;
1836        server.clients_paused = 0;
1837        server.system_memory_size = zmalloc_get_memory_size();
1838
1839        createSharedObjects();
1840        adjustOpenFilesLimit();
1841        server.el = aeCreateEventLoop(server.maxclients+CONFIG_FDSET_INCR);
1842        if (server.el == NULL) {
1843            serverLog(LL_WARNING,
1844                &quot;Failed creating the event loop. Error message: &apos;%s&apos;&quot;,
1845                strerror(errno));
1846            exit(1);
1847        }
</code></pre><p>&#x8FD9;&#x662F; redis-server &#x4EE3;&#x7801;&#x4E2D; initServer() &#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#xFF0C;&#x4F4D;&#x4E8E;&#x6587;&#x4EF6; server.c &#x4E2D;&#xFF0C;&#x5F53;&#x505C;&#x5728;&#x7B2C; 1813 &#x884C;&#xFF0C;&#x60F3;&#x76F4;&#x63A5;&#x8DF3;&#x5230;&#x7B2C; 1839 &#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8F93;&#x5165; <strong>u 1839</strong>&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x5FEB;&#x901F;&#x6267;&#x884C;&#x5B8C;&#x4E2D;&#x95F4;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5148;&#x5728;&#x7B2C; 1839 &#x884C;&#x52A0;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; <strong>continue</strong> &#x547D;&#x4EE4;&#x8FD0;&#x884C;&#x5230;&#x8FD9;&#x4E00;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528; <strong>until</strong> &#x547D;&#x4EE4;&#x4F1A;&#x66F4;&#x7B80;&#x4FBF;&#x3002;</p>
<pre><code>(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/redis-4.0.9/src/redis-server
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.

Breakpoint 3, main (argc=1, argv=0x7fffffffe588) at server.c:3704
3704    int main(int argc, char **argv) {
(gdb) c
Continuing.
21574:C 14 Sep 06:42:36.978 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
21574:C 14 Sep 06:42:36.978 # Redis version=4.0.9, bits=64, commit=00000000, modified=0, pid=21574, just started
21574:C 14 Sep 06:42:36.979 # Warning: no config file specified, using the default config. In order to specify a config file use /root/redis-4.0.9/src/redis-server /path/to/redis.conf

Breakpoint 4, initServer () at server.c:1812
1812    void initServer(void) {
(gdb) n
1815        signal(SIGHUP, SIG_IGN);
(gdb) u 1839
initServer () at server.c:1839
1839        createSharedObjects();
(gdb)
</code></pre><p><strong>jump</strong> &#x547D;&#x4EE4;&#x57FA;&#x672C;&#x7528;&#x6CD5;&#x662F;&#xFF1A;</p>
<pre><code>jump &lt;location&gt;
</code></pre><p><strong>location</strong> &#x53EF;&#x4EE5;&#x662F;&#x7A0B;&#x5E8F;&#x7684;&#x884C;&#x53F7;&#x6216;&#x8005;&#x51FD;&#x6570;&#x7684;&#x5730;&#x5740;&#xFF0C;jump &#x4F1A;&#x8BA9;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x6D41;&#x8DF3;&#x8F6C;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x6267;&#x884C;&#xFF0C;&#x5F53;&#x7136;&#x5176;&#x884C;&#x4E3A;&#x4E5F;&#x662F;&#x4E0D;&#x53EF;&#x63A7;&#x5236;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#x60A8;&#x8DF3;&#x8FC7;&#x4E86;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x521D;&#x59CB;&#x5316;&#x4EE3;&#x7801;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x6216;&#x5176;&#x4ED6;&#x610F;&#x5916;&#x884C;&#x4E3A;&#x3002;<strong>jump</strong> &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7B80;&#x5199;&#x6210; <strong>j</strong>&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x7B80;&#x5199;&#x6210; <strong>jmp</strong>&#xFF0C;&#x5176;&#x4F7F;&#x7528;&#x6709;&#x4E00;&#x4E2A;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF0C;&#x5373;&#x5982;&#x679C; <strong>jump</strong> &#x8DF3;&#x8F6C;&#x5230;&#x7684;&#x4F4D;&#x7F6E;&#x540E;&#x7EED;&#x6CA1;&#x6709;&#x65AD;&#x70B9;&#xFF0C;&#x90A3;&#x4E48; GDB &#x4F1A;&#x6267;&#x884C;&#x5B8C;&#x8DF3;&#x8F6C;&#x5904;&#x7684;&#x4EE3;&#x7801;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>1 int somefunc()
2 {
3   //&#x4EE3;&#x7801;A
4   //&#x4EE3;&#x7801;B
5   //&#x4EE3;&#x7801;C
6   //&#x4EE3;&#x7801;D
7   //&#x4EE3;&#x7801;E
8   //&#x4EE3;&#x7801;F
9 }
</code></pre><p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x7684;&#x65AD;&#x70B9;&#x521D;&#x59CB;&#x4F4D;&#x7F6E;&#x5728;&#x884C;&#x53F7; <strong>3</strong> &#x5904;&#xFF08;&#x4EE3;&#x7801; A&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x4F7F;&#x7528; <strong>jump 6</strong>&#xFF0C;&#x90A3;&#x4E48;&#x7A0B;&#x5E8F;&#x4F1A;&#x8DF3;&#x8FC7;&#x4EE3;&#x7801; B &#x548C; C &#x7684;&#x6267;&#x884C;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x4EE3;&#x7801; D&#xFF08; <strong>&#x8DF3;&#x8F6C;&#x70B9;</strong>&#xFF09;&#xFF0C;&#x7A0B;&#x5E8F;&#x5E76;&#x4E0D;&#x4F1A;&#x505C;&#x5728;&#x4EE3;&#x7801; <strong>6</strong> &#x5904;&#xFF0C;&#x800C;&#x662F;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x540E;&#x7EED;&#x4EE3;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x67E5;&#x770B;&#x6267;&#x884C;&#x8DF3;&#x8F6C;&#x5904;&#x7684;&#x4EE3;&#x7801;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x884C;&#x53F7; <strong>6</strong>&#x3001;<strong>7</strong> &#x6216; <strong>8</strong> &#x5904;&#x8BBE;&#x7F6E;&#x65AD;&#x70B9;&#x3002;</p>
<p><strong>jump</strong> &#x547D;&#x4EE4;&#x9664;&#x4E86;&#x8DF3;&#x8FC7;&#x4E00;&#x4E9B;&#x4EE3;&#x7801;&#x7684;&#x6267;&#x884C;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x5999;&#x7528;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#x5728;&#x6B63;&#x5E38;&#x7684;&#x903B;&#x8F91;&#x4E0B;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#xFF08;&#x5F53;&#x7136;&#x53EF;&#x80FD;&#x4E5F;&#x56E0;&#x6B64;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E9B;&#x610F;&#x5916;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x8BFB;&#x8005;&#x81EA;&#x884C;&#x659F;&#x914C;&#x4F7F;&#x7528;&#xFF09;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code>1  #include &lt;stdio.h&gt;
2  int main()
3  {
4    int a = 0;
5    if (a != 0)
6    {
7      printf(&quot;if condition\n&quot;);
8    }
9    else
10   {
11     printf(&quot;else condition\n&quot;);
12   }
13
14   return 0;
15 }
</code></pre><p>&#x6211;&#x4EEC;&#x5728;&#x884C;&#x53F7; <strong>4</strong> &#x3001;<strong>14</strong> &#x5904;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x5F53;&#x89E6;&#x53D1;&#x884C;&#x53F7; <strong>4</strong> &#x5904;&#x7684;&#x65AD;&#x70B9;&#x540E;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x6D41;&#x4F1A;&#x8D70; else &#x5206;&#x652F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>jump 7</strong> &#x5F3A;&#x884C;&#x8BA9;&#x7A0B;&#x5E8F;&#x6267;&#x884C; if &#x5206;&#x652F;&#xFF0C;&#x63A5;&#x7740; GDB &#x4F1A;&#x56E0;&#x89E6;&#x53D1;&#x884C;&#x53F7; <strong>14</strong> &#x5904;&#x7684;&#x65AD;&#x70B9;&#x800C;&#x505C;&#x4E0B;&#x6765;&#xFF0C;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x6267;&#x884C; <strong>jump 11</strong>&#xFF0C;&#x7A0B;&#x5E8F;&#x4F1A;&#x5C06; else &#x5206;&#x652F;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x4E00;&#x904D;&#x3002;&#x6574;&#x4E2A;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>[root@localhost testcore]# gdb test
Reading symbols from /root/testcore/test...done.
(gdb) b main
Breakpoint 1 at 0x400545: file main.cpp, line 4.
(gdb) b 14
Breakpoint 2 at 0x400568: file main.cpp, line 14.
(gdb) r
Starting program: /root/testcore/test

Breakpoint 1, main () at main.cpp:4
4       int a = 0;
Missing separate debuginfos, use: debuginfo-install glibc-2.17-260.el7.x86_64 libgcc-4.8.5-36.el7.x86_64 libstdc++-4.8.5-36.el7.x86_64
(gdb) jump 7
Continuing at 0x400552.
if condition

Breakpoint 2, main () at main.cpp:14
14       return 0;
(gdb) jump 11
Continuing at 0x40055e.
else condition

Breakpoint 2, main () at main.cpp:14
14       return 0;
(gdb) c
Continuing.
[Inferior 1 (process 13349) exited normally]
(gdb)
</code></pre><p><strong>redis-server</strong> &#x5728;&#x5165;&#x53E3;&#x51FD;&#x6570; <strong>main</strong> &#x5904;&#x8C03;&#x7528; <strong>initServer()</strong> &#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; &#x201C;<strong>b initServer</strong>&#x201D; &#x3001;&#x201C;<strong>b 2025</strong>&#x201D;&#x3001;&#x201C;<strong>b 2027</strong>&#x201D;&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5165;&#x53E3;&#x5904;&#x3001;2025 &#x884C;&#x3001;2027 &#x884C;&#x589E;&#x52A0;&#x4E09;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; <strong>run</strong> &#x547D;&#x4EE4;&#x91CD;&#x65B0;&#x8FD0;&#x884C;&#x4E00;&#x4E0B;&#x7A0B;&#x5E8F;&#xFF0C;&#x89E6;&#x53D1;&#x7B2C;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#x540E;&#xFF0C;&#x7EE7;&#x7EED;&#x8F93;&#x5165; <strong>c</strong> &#x547D;&#x4EE4;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x89E6;&#x53D1; 2025 &#x884C;&#x5904;&#x7684;&#x65AD;&#x70B9;&#xFF0C;&#x63A5;&#x7740;&#x8F93;&#x5165; <strong>jump 2027</strong> &#xFF1A;</p>
<pre><code>(gdb) b 2025
Breakpoint 5 at 0x42c8e7: file server.c, line 2025.
(gdb) b 2027
Breakpoint 6 at 0x42c8f8: file server.c, line 2027.
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) n
Program not restarted.
(gdb) b initServer
Note: breakpoint 3 also set at pc 0x42c8b0.
Breakpoint 7 at 0x42c8b0: file server.c, line 2013.
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/redis-5.0.3/src/redis-server
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.

Breakpoint 1, main (argc=1, argv=0x7fffffffe4e8) at server.c:4003
4003    int main(int argc, char **argv) {
(gdb) c
Continuing.
13374:C 14 Jan 2019 15:12:16.571 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
13374:C 14 Jan 2019 15:12:16.571 # Redis version=5.0.3, bits=64, commit=00000000, modified=0, pid=13374, just started
13374:C 14 Jan 2019 15:12:16.571 # Warning: no config file specified, using the default config. In order to specify a config file use /root/redis-5.0.3/src/redis-server /path/to/redis.conf

Breakpoint 3, initServer () at server.c:2013
2013    void initServer(void) {
(gdb) c
Continuing.

Breakpoint 5, initServer () at server.c:2025
2025        server.hz = server.config_hz;
(gdb) jump 2027
Continuing at 0x42c8f8.

Breakpoint 6, initServer () at server.c:2027
2027        server.current_client = NULL;
(gdb)
</code></pre><p>&#x7A0B;&#x5E8F;&#x5C06; <strong>2026</strong> &#x884C;&#x7684;&#x4EE3;&#x7801;&#x8DF3;&#x8FC7;&#x4E86;&#xFF0C;2026 &#x884C;&#x5904;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8FDB;&#x7A0B; id&#xFF1A;</p>
<pre><code>2026 server.pid = getpid();
</code></pre><p>&#x7531;&#x4E8E;&#x8FD9;&#x4E00;&#x884C;&#x88AB;&#x8DF3;&#x8FC7;&#x4E86;&#xFF0C;&#x6240;&#x4EE5; <strong>server.pid</strong> &#x7684;&#x503C;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x7684;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>print</strong> &#x547D;&#x4EE4;&#x5C06;&#x8FD9;&#x4E2A;&#x503C;&#x6253;&#x5370;&#x51FA;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#xFF1A;</p>
<pre><code>(gdb) p server.pid
$3 = 0
</code></pre><p>&#x7ED3;&#x679C;&#x786E;&#x5B9E;&#x662F; <strong>0</strong> &#x8FD9;&#x4E2A;&#x6211;&#x4EEC;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65E0;&#x6548;&#x503C;&#x3002;</p>
<blockquote>
<p>&#x672C;&#x8D28;&#x4E0A;&#xFF0C;<strong>jump</strong> &#x547D;&#x4EE4;&#x7684;&#x4F5C;&#x7528;&#x7C7B;&#x4F3C;&#x4E8E;&#x5728; Visual Studio &#x4E2D;&#x8C03;&#x8BD5;&#x65F6;&#xFF0C;&#x62D6;&#x9F20;&#x6807;&#x5C06;&#x7A0B;&#x5E8F;&#x4ECE;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x5904;&#x62D6;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x5904;&#x3002;</p>
</blockquote>
<p><img src="https://images.gitbook.cn/eb4d9470-186e-11e9-b848-bfbdb26ffecb" alt="img"></p>
<h2 id="disassemble-&#x547D;&#x4EE4;">disassemble &#x547D;&#x4EE4;</h2>
<p>&#x5F53;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x9AD8;&#x7EA7;&#x8C03;&#x8BD5;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x67E5;&#x770B;&#x67D0;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x6C47;&#x7F16;&#x6307;&#x4EE4;&#x53BB;&#x6392;&#x67E5;&#x95EE;&#x9898;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x5728;&#x8C03;&#x8BD5;&#x4E00;&#x4E9B;&#x6CA1;&#x6709;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x7684;&#x53D1;&#x5E03;&#x7248;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x4E5F;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x53CD;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#x53BB;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x4E48; <strong>disassemble</strong> &#x547D;&#x4EE4;&#x5C31;&#x6D3E;&#x4E0A;&#x7528;&#x573A;&#x4E86;&#x3002;</p>
<pre><code>initServer () at server.c:1839
1839        createSharedObjects();
(gdb) disassemble
Dump of assembler code for function initServer:
   0x000000000042f450 &lt;+0&gt;:     push   %r12
   0x000000000042f452 &lt;+2&gt;:     mov    $0x1,%esi
   0x000000000042f457 &lt;+7&gt;:     mov    $0x1,%edi
   0x000000000042f45c &lt;+12&gt;:    push   %rbp
   0x000000000042f45d &lt;+13&gt;:    push   %rbx
   0x000000000042f45e &lt;+14&gt;:    callq  0x421eb0 &lt;signal@plt&gt;
   0x000000000042f463 &lt;+19&gt;:    mov    $0x1,%esi
   0x000000000042f468 &lt;+24&gt;:    mov    $0xd,%edi
   0x000000000042f46d &lt;+29&gt;:    callq  0x421eb0 &lt;signal@plt&gt;
   0x000000000042f472 &lt;+34&gt;:    callq  0x42f3a0 &lt;setupSignalHandlers&gt;
   0x000000000042f477 &lt;+39&gt;:    mov    0x316d52(%rip),%r8d        # 0x7461d0 &lt;server+2128&gt;
   0x000000000042f47e &lt;+46&gt;:    test   %r8d,%r8d
   0x000000000042f481 &lt;+49&gt;:    jne    0x42f928 &lt;initServer+1240&gt;
   0x000000000042f487 &lt;+55&gt;:    callq  0x421a50 &lt;getpid@plt&gt;
   0x000000000042f48c &lt;+60&gt;:    movq   $0x0,0x316701(%rip)        # 0x745b98 &lt;server+536&gt;
   0x000000000042f497 &lt;+71&gt;:    mov    %eax,0x3164e3(%rip)        # 0x745980 &lt;server&gt;
   0x000000000042f49d &lt;+77&gt;:    callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f4a2 &lt;+82&gt;:    mov    %rax,0x3166c7(%rip)        # 0x745b70 &lt;server+496&gt;
   0x000000000042f4a9 &lt;+89&gt;:    callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f4ae &lt;+94&gt;:    mov    %rax,0x3166c3(%rip)        # 0x745b78 &lt;server+504&gt;
   0x000000000042f4b5 &lt;+101&gt;:   callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f4ba &lt;+106&gt;:   mov    %rax,0x3166c7(%rip)        # 0x745b88 &lt;server+520&gt;
   0x000000000042f4c1 &lt;+113&gt;:   callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f4c6 &lt;+118&gt;:   mov    %rax,0x3166c3(%rip)        # 0x745b90 &lt;server+528&gt;
   0x000000000042f4cd &lt;+125&gt;:   callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f4d2 &lt;+130&gt;:   movl   $0xffffffff,0x316d6c(%rip)        # 0x746248 &lt;server+2248&gt;
   0x000000000042f4dc &lt;+140&gt;:   mov    %rax,0x31669d(%rip)        # 0x745b80 &lt;server+512&gt;
   0x000000000042f4e3 &lt;+147&gt;:   callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f4e8 &lt;+152&gt;:   mov    %rax,0x316ec9(%rip)        # 0x7463b8 &lt;server+2616&gt;
   0x000000000042f4ef &lt;+159&gt;:   callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f4f4 &lt;+164&gt;:   mov    %rax,0x316ec5(%rip)        # 0x7463c0 &lt;server+2624&gt;
   0x000000000042f4fb &lt;+171&gt;:   callq  0x423cb0 &lt;listCreate&gt;
   0x000000000042f500 &lt;+176&gt;:   movl   $0x0,0x316e7e(%rip)        # 0x746388 &lt;server+2568&gt;
   0x000000000042f50a &lt;+186&gt;:   mov    %rax,0x316e6f(%rip)        # 0x746380 &lt;server+2560&gt;
   0x000000000042f511 &lt;+193&gt;:   movl   $0x0,0x316685(%rip)        # 0x745ba0 &lt;server+544&gt;
   0x000000000042f51b &lt;+203&gt;:   callq  0x432e90 &lt;zmalloc_get_memory_size&gt;
   0x000000000042f520 &lt;+208&gt;:   mov    %rax,0x316fd9(%rip)        # 0x746500 &lt;server+2944&gt;
=&gt; 0x000000000042f527 &lt;+215&gt;:   callq  0x42a7b0 &lt;createSharedObjects&gt;
</code></pre><p>GDB &#x9ED8;&#x8BA4;&#x53CD;&#x6C47;&#x7F16;&#x4E3A; AT&amp;T &#x683C;&#x5F0F;&#x7684;&#x6307;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; show disassembly-flavor &#x67E5;&#x770B;&#xFF0C;&#x5982;&#x679C;&#x4E60;&#x60EF; intel &#x6C47;&#x7F16;&#x683C;&#x5F0F;&#x53EF;&#x4EE5;&#x7528;&#x547D;&#x4EE4; set disassembly-flavor intel &#x6765;&#x8BBE;&#x7F6E;&#x3002;</p>
<pre><code>(gdb) set disassembly-flavor intel
(gdb) disassemble
Dump of assembler code for function initServer:
   0x000000000042f450 &lt;+0&gt;:     push   r12
   0x000000000042f452 &lt;+2&gt;:     mov    esi,0x1
   0x000000000042f457 &lt;+7&gt;:     mov    edi,0x1
   0x000000000042f45c &lt;+12&gt;:    push   rbp
   0x000000000042f45d &lt;+13&gt;:    push   rbx
   0x000000000042f45e &lt;+14&gt;:    call   0x421eb0 &lt;signal@plt&gt;
   0x000000000042f463 &lt;+19&gt;:    mov    esi,0x1
   0x000000000042f468 &lt;+24&gt;:    mov    edi,0xd
   0x000000000042f46d &lt;+29&gt;:    call   0x421eb0 &lt;signal@plt&gt;
   0x000000000042f472 &lt;+34&gt;:    call   0x42f3a0 &lt;setupSignalHandlers&gt;
   0x000000000042f477 &lt;+39&gt;:    mov    r8d,DWORD PTR [rip+0x316d52]        # 0x7461d0 &lt;server+2128&gt;
   0x000000000042f47e &lt;+46&gt;:    test   r8d,r8d
   0x000000000042f481 &lt;+49&gt;:    jne    0x42f928 &lt;initServer+1240&gt;
   0x000000000042f487 &lt;+55&gt;:    call   0x421a50 &lt;getpid@plt&gt;
   0x000000000042f48c &lt;+60&gt;:    mov    QWORD PTR [rip+0x316701],0x0        # 0x745b98 &lt;server+536&gt;
   0x000000000042f497 &lt;+71&gt;:    mov    DWORD PTR [rip+0x3164e3],eax        # 0x745980 &lt;server&gt;
   0x000000000042f49d &lt;+77&gt;:    call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f4a2 &lt;+82&gt;:    mov    QWORD PTR [rip+0x3166c7],rax        # 0x745b70 &lt;server+496&gt;
   0x000000000042f4a9 &lt;+89&gt;:    call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f4ae &lt;+94&gt;:    mov    QWORD PTR [rip+0x3166c3],rax        # 0x745b78 &lt;server+504&gt;
   0x000000000042f4b5 &lt;+101&gt;:   call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f4ba &lt;+106&gt;:   mov    QWORD PTR [rip+0x3166c7],rax        # 0x745b88 &lt;server+520&gt;
   0x000000000042f4c1 &lt;+113&gt;:   call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f4c6 &lt;+118&gt;:   mov    QWORD PTR [rip+0x3166c3],rax        # 0x745b90 &lt;server+528&gt;
   0x000000000042f4cd &lt;+125&gt;:   call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f4d2 &lt;+130&gt;:   mov    DWORD PTR [rip+0x316d6c],0xffffffff        # 0x746248 &lt;server+2248&gt;
   0x000000000042f4dc &lt;+140&gt;:   mov    QWORD PTR [rip+0x31669d],rax        # 0x745b80 &lt;server+512&gt;
   0x000000000042f4e3 &lt;+147&gt;:   call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f4e8 &lt;+152&gt;:   mov    QWORD PTR [rip+0x316ec9],rax        # 0x7463b8 &lt;server+2616&gt;
   0x000000000042f4ef &lt;+159&gt;:   call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f4f4 &lt;+164&gt;:   mov    QWORD PTR [rip+0x316ec5],rax        # 0x7463c0 &lt;server+2624&gt;
   0x000000000042f4fb &lt;+171&gt;:   call   0x423cb0 &lt;listCreate&gt;
   0x000000000042f500 &lt;+176&gt;:   mov    DWORD PTR [rip+0x316e7e],0x0        # 0x746388 &lt;server+2568&gt;
   0x000000000042f50a &lt;+186&gt;:   mov    QWORD PTR [rip+0x316e6f],rax        # 0x746380 &lt;server+2560&gt;
   0x000000000042f511 &lt;+193&gt;:   mov    DWORD PTR [rip+0x316685],0x0        # 0x745ba0 &lt;server+544&gt;
   0x000000000042f51b &lt;+203&gt;:   call   0x432e90 &lt;zmalloc_get_memory_size&gt;
   0x000000000042f520 &lt;+208&gt;:   mov    QWORD PTR [rip+0x316fd9],rax        # 0x746500 &lt;server+2944&gt;
=&gt; 0x000000000042f527 &lt;+215&gt;:   call   0x42a7b0 &lt;createSharedObjects&gt;
</code></pre><h2 id="set-args-&#x548C;-show-args-&#x547D;&#x4EE4;">set args &#x548C; show args &#x547D;&#x4EE4;</h2>
<p>&#x5F88;&#x591A;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x4F20;&#x9012;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x3002;&#x5728; GDB &#x8C03;&#x8BD5;&#x4E2D;&#xFF0C;&#x5F88;&#x591A;&#x4EBA;&#x4F1A;&#x89C9;&#x5F97;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>gdb filename args</strong> &#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x6765;&#x7ED9; GDB &#x8C03;&#x8BD5;&#x7684;&#x7A0B;&#x5E8F;&#x4F20;&#x9012;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x6837;&#x662F;&#x4E0D;&#x884C;&#x7684;&#x3002;&#x6B63;&#x786E;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x5728;&#x7528; GDB &#x9644;&#x52A0;&#x7A0B;&#x5E8F;&#x540E;&#xFF0C;&#x5728;&#x4F7F;&#x7528; <strong>run</strong> &#x547D;&#x4EE4;&#x4E4B;&#x524D;&#xFF0C;&#x4F7F;&#x7528;&#x201C;<strong>set args &#x53C2;&#x6570;&#x5185;&#x5BB9;</strong>&#x201D;&#x6765;&#x8BBE;&#x7F6E;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x8FD8;&#x662F;&#x4EE5; redis-server &#x4E3A;&#x4F8B;&#xFF0C;Redis &#x542F;&#x52A8;&#x65F6;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E; redis-server &#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4E00;&#x5C42;&#x76EE;&#x5F55;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728; GDB &#x4E2D;&#x8FD9;&#x6837;&#x4F20;&#x9012;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;<strong>set args ../redis.conf</strong>&#xFF08;&#x5373;&#x6587;&#x4EF6; redis.conf &#x4F4D;&#x4E8E;&#x5F53;&#x524D;&#x7A0B;&#x5E8F; redis-server &#x7684;&#x4E0A;&#x4E00;&#x5C42;&#x76EE;&#x5F55;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <strong>show args</strong>&#x67E5;&#x770B;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x6210;&#x529F;&#x3002;</p>
<pre><code>(gdb) set args ../redis.conf
(gdb) show args
Argument list to give program being debugged when it is started is &quot;../redis.conf &quot;.
(gdb)
</code></pre><p>&#x5982;&#x679C;&#x5355;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x4E4B;&#x95F4;&#x542B;&#x6709;&#x7A7A;&#x683C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5F15;&#x53F7;&#x5C06;&#x53C2;&#x6570;&#x5305;&#x88F9;&#x8D77;&#x6765;&#x3002;</p>
<pre><code>(gdb) set args &quot;999 xx&quot; &quot;hu jj&quot;
(gdb) show args
Argument list to give program being debugged when it is started is &quot;&quot;999 xx&quot; &quot;hu jj&quot;&quot;.
(gdb)
</code></pre><p>&#x5982;&#x679C;&#x60F3;&#x6E05;&#x9664;&#x6389;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x597D;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x4F7F;&#x7528; <strong>set args</strong> &#x4E0D;&#x52A0;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#x5373;&#x53EF;&#x3002;</p>
<pre><code>(gdb) set args
(gdb) show args
Argument list to give program being debugged when it is started is &quot;&quot;.
(gdb)
</code></pre><h2 id="tbreak-&#x547D;&#x4EE4;">tbreak &#x547D;&#x4EE4;</h2>
<p><strong>tbreak</strong> &#x547D;&#x4EE4;&#x4E5F;&#x662F;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x201C;<strong>t</strong>&#x201D;&#x7684;&#x610F;&#x601D;&#x662F; temporarily&#xFF08;&#x4E34;&#x65F6;&#x7684;&#xFF09;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x52A0;&#x7684;&#x65AD;&#x70B9;&#x662F;&#x4E34;&#x65F6;&#x7684;&#xFF0C;&#x6240;&#x8C13;&#x4E34;&#x65F6;&#x65AD;&#x70B9;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x65E6;&#x8BE5;&#x65AD;&#x70B9;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#x540E;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x3002;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x7684;&#x65B9;&#x6CD5;&#x4E0E;&#x4E0A;&#x9762;&#x4ECB;&#x7ECD;&#x7684; break &#x547D;&#x4EE4;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x3002;</p>
<pre><code>(gdb) tbreak main
Temporary breakpoint 1 at 0x423450: file server.c, line 3704.
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/redis-4.0.9/src/redis-server
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.

Temporary breakpoint 1, main (argc=1, argv=0x7fffffffe588) at server.c:3704
3704    int main(int argc, char **argv) {
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/redis-4.0.9/src/redis-server
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.
21652:C 14 Sep 07:05:39.288 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
21652:C 14 Sep 07:05:39.288 # Redis version=4.0.9, bits=64, commit=00000000, modified=0, pid=21652, just started
21652:C 14 Sep 07:05:39.288 # Warning: no config file specified, using the default config. In order to specify a config file use /root/redis-4.0.9/src/redis-server /path/to/redis.conf
21652:M 14 Sep 07:05:39.289 * Increased maximum number of open files to 10032 (it was originally set to 1024).
[New Thread 0x7ffff07ff700 (LWP 21653)]
[New Thread 0x7fffefffe700 (LWP 21654)]
[New Thread 0x7fffef7fd700 (LWP 21655)]
                _._
           _.-``__ &apos;&apos;-._
      _.-``    `.  `_.  &apos;&apos;-._           Redis 4.0.9 (00000000/0) 64 bit
  .-`` .-```.  ```\/    _.,_ &apos;&apos;-._
 (    &apos;      ,       .-`  | `,    )     Running in standalone mode
 |`-._`-...-` __...-.``-._|&apos;` _.-&apos;|     Port: 6379
 |    `-._   `._    /     _.-&apos;    |     PID: 21652
  `-._    `-._  `-./  _.-&apos;    _.-&apos;
 |`-._`-._    `-.__.-&apos;    _.-&apos;_.-&apos;|
 |    `-._`-._        _.-&apos;_.-&apos;    |           http://redis.io
  `-._    `-._`-.__.-&apos;_.-&apos;    _.-&apos;
 |`-._`-._    `-.__.-&apos;    _.-&apos;_.-&apos;|
 |    `-._`-._        _.-&apos;_.-&apos;    |
</code></pre><p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; <strong>tbreak</strong> &#x547D;&#x4EE4;&#x5728; main() &#x51FD;&#x6570;&#x5904;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x5F53;&#x65AD;&#x70B9;&#x89E6;&#x53D1;&#x540E;&#xFF0C;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x4E0D;&#x518D;&#x89E6;&#x53D1;&#x65AD;&#x70B9;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x4E34;&#x65F6;&#x65AD;&#x70B9;&#x5DF2;&#x7ECF;&#x88AB;&#x5220;&#x9664;&#x3002;</p>
<h2 id="watch-&#x547D;&#x4EE4;">watch &#x547D;&#x4EE4;</h2>
<p><strong>watch</strong> &#x547D;&#x4EE4;&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x76D1;&#x89C6;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x4E00;&#x6BB5;&#x5185;&#x5B58;&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x8BE5;&#x5185;&#x5B58;&#x5904;&#x7684;&#x503C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;GDB &#x5C31;&#x4F1A;&#x4E2D;&#x65AD;&#x4E0B;&#x6765;&#x3002;&#x88AB;&#x76D1;&#x89C6;&#x7684;&#x67D0;&#x4E2A;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x67D0;&#x4E2A;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A; watch point&#xFF08;&#x89C2;&#x5BDF;&#x70B9;&#xFF09;&#x3002;</p>
<p>&#x6211;&#x5728;&#x6570;&#x5E74;&#x524D;&#x53BB;&#x5317;&#x4EAC;&#x4E2D;&#x5173;&#x6751;&#x8F6F;&#x4EF6;&#x56ED;&#x5E94;&#x8058;&#x4E00;&#x4E2A; C++ &#x5F00;&#x53D1;&#x7684;&#x804C;&#x4F4D;&#xFF0C;&#x5F53;&#x65F6;&#x4E00;&#x4E2A;&#x9762;&#x8BD5;&#x5B98;&#x95EE;&#x4E86;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x6709;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x5176;&#x503C;&#x88AB;&#x610F;&#x5916;&#x5730;&#x6539;&#x6389;&#x4E86;&#xFF0C;&#x901A;&#x8FC7;&#x5355;&#x6B65;&#x8C03;&#x8BD5;&#x6216;&#x8005;&#x6328;&#x4E2A;&#x68C0;&#x67E5;&#x4F7F;&#x7528;&#x8BE5;&#x53D8;&#x91CF;&#x7684;&#x4EE3;&#x7801;&#x5DE5;&#x4F5C;&#x91CF;&#x4F1A;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x5982;&#x4F55;&#x5FEB;&#x901F;&#x5730;&#x5B9A;&#x4F4D;&#x5230;&#x8BE5;&#x53D8;&#x91CF;&#x5728;&#x54EA;&#x91CC;&#x88AB;&#x4FEE;&#x6539;&#x4E86;&#xFF1F;&#x5176;&#x5B9E;&#xFF0C;&#x9762;&#x8BD5;&#x5B98;&#x60F3;&#x8981;&#x7684;&#x7B54;&#x6848;&#x662F;&#x201C;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x201D;&#x3002;&#x5177;&#x4F53;&#x4EC0;&#x4E48;&#x662F;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#xFF0C;&#x6211;&#x5C06;&#x5728;&#x540E;&#x9762;&#x9AD8;&#x7EA7;&#x8C03;&#x8BD5;&#x8BFE;&#x7A0B;&#x4E2D;&#x4ECB;&#x7ECD;&#xFF0C;&#x800C; watch &#x547D;&#x4EE4;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6DFB;&#x52A0;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x6765;&#x8FBE;&#x5230;&#x76D1;&#x89C6;&#x6570;&#x636E;&#x53D8;&#x5316;&#x7684;&#x76EE;&#x7684;&#x3002;watch &#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x662F;&#x201C;watch &#x53D8;&#x91CF;&#x540D;&#x6216;&#x5185;&#x5B58;&#x5730;&#x5740;&#x201D;&#xFF0C;&#x4E00;&#x822C;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x5F62;&#x5F0F;&#xFF1A;</p>
<ul>
<li>&#x5F62;&#x5F0F;&#x4E00;&#xFF1A;&#x6574;&#x578B;&#x53D8;&#x91CF;</li>
</ul>
<pre><code>int i;
watch i
</code></pre><ul>
<li>&#x5F62;&#x5F0F;&#x4E8C;&#xFF1A;&#x6307;&#x9488;&#x7C7B;&#x578B;</li>
</ul>
<pre><code>char *p;
watch p &#x4E0E; watch *p
</code></pre><blockquote>
<p><strong>&#x6CE8;&#x610F;</strong>&#xFF1A;watch p &#x4E0E; watch <em>p &#x662F;&#x6709;&#x533A;&#x522B;&#x7684;&#xFF0C;&#x524D;&#x8005;&#x662F;&#x67E5;&#x770B; </em>(&amp;p)&#xFF0C;&#x662F; p &#x53D8;&#x91CF;&#x672C;&#x8EAB;&#xFF1B;&#x540E;&#x8005;&#x662F; p &#x6240;&#x6307;&#x5185;&#x5B58;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x67E5;&#x770B;&#x5730;&#x5740;&#xFF0C;&#x56E0;&#x4E3A;&#x76EE;&#x7684;&#x662F;&#x8981;&#x770B;&#x67D0;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x662F;&#x600E;&#x6837;&#x53D8;&#x5316;&#x7684;&#x3002;</p>
</blockquote>
<ul>
<li>&#x5F62;&#x5F0F;&#x4E09;&#xFF1A;watch &#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x6216;&#x5185;&#x5B58;&#x533A;&#x95F4;</li>
</ul>
<pre><code>char buf[128];
watch buf
</code></pre><p>&#x8FD9;&#x91CC;&#x662F;&#x5BF9; buf &#x7684; 128 &#x4E2A;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4E86;&#x76D1;&#x89C6;&#xFF0C;&#x6B64;&#x65F6;&#x4E0D;&#x662F;&#x91C7;&#x7528;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#xFF0C;&#x800C;&#x662F;&#x7528;&#x8F6F;&#x4E2D;&#x65AD;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x7528;&#x8F6F;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;&#x53BB;&#x68C0;&#x67E5;&#x5185;&#x5B58;&#x53D8;&#x91CF;&#x662F;&#x6BD4;&#x8F83;&#x8017;&#x8D39; CPU &#x8D44;&#x6E90;&#x7684;&#xFF0C;&#x7CBE;&#x786E;&#x5730;&#x6307;&#x660E;&#x5730;&#x5740;&#x662F;&#x786C;&#x4EF6;&#x4E2D;&#x65AD;&#x3002;</p>
<blockquote>
<p><strong>&#x6CE8;&#x610F;</strong>&#xFF1A;&#x5F53;&#x8BBE;&#x7F6E;&#x7684;&#x89C2;&#x5BDF;&#x70B9;&#x662F;&#x4E00;&#x4E2A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x65E0;&#x6548;&#x540E;&#xFF0C;&#x89C2;&#x5BDF;&#x70B9;&#x4E5F;&#x4F1A;&#x5931;&#x6548;&#x3002;&#x5728;&#x89C2;&#x5BDF;&#x70B9;&#x5931;&#x6548;&#x65F6; GDB &#x53EF;&#x80FD;&#x4F1A;&#x63D0;&#x793A;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre><code>Watchpoint 2 deleted because the program has left the block in which its expression is valid.
</code></pre></blockquote>
<h2 id="display-&#x547D;&#x4EE4;">display &#x547D;&#x4EE4;</h2>
<p><strong>display</strong> &#x547D;&#x4EE4;&#x76D1;&#x89C6;&#x7684;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x5185;&#x5B58;&#x5730;&#x5740;&#xFF0C;&#x6BCF;&#x6B21;&#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x4E0B;&#x6765;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x8F93;&#x51FA;&#x8FD9;&#x4E9B;&#x53D8;&#x91CF;&#x6216;&#x5185;&#x5B58;&#x7684;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5047;&#x8BBE;&#x7A0B;&#x5E8F;&#x6709;&#x4E00;&#x4E9B;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x6BCF;&#x6B21;&#x65AD;&#x70B9;&#x505C;&#x4E0B;&#x6765;&#x6211;&#x90FD;&#x5E0C;&#x671B; GDB &#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8F93;&#x51FA;&#x8FD9;&#x4E9B;&#x53D8;&#x91CF;&#x7684;&#x6700;&#x65B0;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;&#x201C;<strong>display &#x53D8;&#x91CF;&#x540D;</strong>&#x201D;&#x8BBE;&#x7F6E;&#x5373;&#x53EF;&#x3002;</p>
<pre><code>Program received signal SIGINT, Interrupt.
0x00007ffff71e2483 in epoll_wait () from /lib64/libc.so.6
(gdb) display $ebx
1: $ebx = 7988560
(gdb) display /x $ebx
2: /x $ebx = 0x79e550
(gdb) display $eax
3: $eax = -4
(gdb) b main
Breakpoint 8 at 0x4201f0: file server.c, line 4003.
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/redis-5.0.3/src/redis-server
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.

Breakpoint 8, main (argc=1, argv=0x7fffffffe4e8) at server.c:4003
4003    int main(int argc, char **argv) {
3: $eax = 4325872
2: /x $ebx = 0x0
1: $ebx = 0
(gdb)
</code></pre><p>&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x6211;&#x4F7F;&#x7528; <strong>display</strong> &#x547D;&#x4EE4;&#x5206;&#x522B;&#x6DFB;&#x52A0;&#x4E86;&#x5BC4;&#x5B58;&#x5668; <strong>ebp</strong> &#x548C;&#x5BC4;&#x5B58;&#x5668; <strong>eax</strong>&#xFF0C;<strong>ebp</strong> &#x5BC4;&#x5B58;&#x5668;&#x5206;&#x522B;&#x4F7F;&#x7528;&#x5341;&#x8FDB;&#x5236;&#x548C;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;&#x8F93;&#x51FA;&#x5176;&#x503C;&#xFF0C;&#x8FD9;&#x6837;&#x6BCF;&#x6B21;&#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x4E0B;&#x6765;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x628A;&#x8FD9;&#x4E9B;&#x503C;&#x6253;&#x5370;&#x51FA;&#x6765;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>info display</strong> &#x67E5;&#x770B;&#x5F53;&#x524D;&#x5DF2;&#x7ECF;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x4E86;&#x54EA;&#x4E9B;&#x503C;&#xFF0C;&#x4F7F;&#x7528; <strong>delete display</strong> &#x6E05;&#x9664;&#x5168;&#x90E8;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x8F93;&#x51FA;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x4F7F;&#x7528; <strong>delete diaplay &#x7F16;&#x53F7;</strong> &#x5220;&#x9664;&#x67D0;&#x4E2A;&#x81EA;&#x52A8;&#x8F93;&#x51FA;&#x7684;&#x53D8;&#x91CF;&#x3002;</p>
<pre><code>(gdb) delete display
Delete all auto-display expressions? (y or n) n
(gdb) delete display 3
(gdb) info display
Auto-display expressions now in effect:
Num Enb Expression
2:   y  $ebp
1:   y  $eax
</code></pre><h1 id="gdb-&#x5B9E;&#x7528;&#x8C03;&#x8BD5;&#x6280;&#x5DE7;">GDB &#x5B9E;&#x7528;&#x8C03;&#x8BD5;&#x6280;&#x5DE7;</h1>
<h2 id="&#x5C06;-print-&#x6253;&#x5370;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5B8C;&#x6574;">&#x5C06; print &#x6253;&#x5370;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5B8C;&#x6574;</h2>
<p>&#x5F53;&#x4F7F;&#x7528; print &#x547D;&#x4EE4;&#x6253;&#x5370;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x5B57;&#x7B26;&#x6570;&#x7EC4;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x592A;&#x957F;&#xFF0C;print &#x547D;&#x4EE4;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x4E0D;&#x5168;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728; GDB &#x4E2D;&#x8F93;&#x5165; set print element 0 &#x547D;&#x4EE4;&#x8BBE;&#x7F6E;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x6837;&#x518D;&#x6B21;&#x4F7F;&#x7528; print &#x547D;&#x4EE4;&#x5C31;&#x80FD;&#x5B8C;&#x6574;&#x5730;&#x663E;&#x793A;&#x8BE5;&#x53D8;&#x91CF;&#x7684;&#x6240;&#x6709;&#x5B57;&#x7B26;&#x4E32;&#x4E86;&#x3002;</p>
<p>&#x5F53;&#x7B2C;&#x4E00;&#x6B21;&#x6253;&#x5370; friendlist &#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x503C;&#x65F6;&#xFF0C;&#x53EA;&#x80FD;&#x663E;&#x793A;&#x90E8;&#x5206;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x4F7F;&#x7528; set print element 0 &#x8BBE;&#x7F6E;&#x4EE5;&#x540E;&#x5C31;&#x80FD;&#x5B8C;&#x6574;&#x5730;&#x663E;&#x793A;&#x51FA;&#x6765;&#x4E86;&#x3002;</p>
<pre><code>(gdb) n
563         os &lt;&lt; &quot;{\&quot;code\&quot;: 0, \&quot;msg\&quot;: \&quot;ok\&quot;, \&quot;userinfo\&quot;:&quot; &lt;&lt; friendlist &lt;&lt; &quot;}&quot;;
(gdb) p friendlist
$1 = &quot;[{\&quot;members\&quot;:[{\&quot;address\&quot;:\&quot;\&quot;,\&quot;birthday\&quot;:19900101,\&quot;clienttype\&quot;:0,\&quot;customface\&quot;:\&quot;\&quot;,\&quot;facetype\&quot;:2,\&quot;gender\&quot;:0,\&quot;mail\&quot;:\&quot;\&quot;,\&quot;markname\&quot;:\&quot;\&quot;,\&quot;nickname\&quot;:\&quot;bj_man\&quot;,\&quot;phonenumber\&quot;:\&quot;\&quot;,\&quot;signature\&quot;:\&quot;\&quot;,\&quot;status\&quot;:0,\&quot;userid\&quot;:4,&quot;...
(gdb) set print element 0
(gdb) p friendlist       
$2 = &quot;[{\&quot;members\&quot;:[{\&quot;address\&quot;:\&quot;\&quot;,\&quot;birthday\&quot;:19900101,\&quot;clienttype\&quot;:0,\&quot;customface\&quot;:\&quot;\&quot;,\&quot;facetype\&quot;:2,\&quot;gender\&quot;:0,\&quot;mail\&quot;:\&quot;\&quot;,\&quot;markname\&quot;:\&quot;\&quot;,\&quot;nickname\&quot;:\&quot;bj_man\&quot;,\&quot;phonenumber\&quot;:&#x592A;&#x957F;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x7701;&#x7565;...
</code></pre><h2 id="&#x8BA9;&#x88AB;-gdb-&#x8C03;&#x8BD5;&#x7684;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x4FE1;&#x53F7;">&#x8BA9;&#x88AB; GDB &#x8C03;&#x8BD5;&#x7684;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x4FE1;&#x53F7;</h2>
<p>&#x8BF7;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-C"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">prog_exit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> signo)</span>
</span>{
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;program recv signal [&quot;</span> &lt;&lt; signo &lt;&lt; <span class="hljs-string">&quot;] to exit.&quot;</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span>* argv[])</span>
</span>{
    <span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x4FE1;&#x53F7;&#x5904;&#x7406;</span>
    signal(SIGCHLD, SIG_DFL);
    signal(SIGPIPE, SIG_IGN);
    signal(SIGINT, prog_exit);
    signal(SIGTERM, prog_exit);

    <span class="hljs-keyword">int</span> ch;
    <span class="hljs-keyword">bool</span> bdaemon = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">while</span> ((ch = getopt(argc, argv, <span class="hljs-string">&quot;d&quot;</span>)) != <span class="hljs-number">-1</span>)
    {
        <span class="hljs-keyword">switch</span> (ch)
        {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&apos;d&apos;</span>:
            bdaemon = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">break</span>;
        }
    }

    <span class="hljs-keyword">if</span> (bdaemon)
        daemon_run();

    <span class="hljs-comment">//&#x7701;&#x7565;&#x65E0;&#x5173;&#x4EE3;&#x7801;...</span>
 }
</code></pre>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x6536;&#x5230; Ctrl + C &#x4FE1;&#x53F7;&#xFF08;&#x5BF9;&#x5E94;&#x4FE1;&#x53F7; SIGINT&#xFF09;&#x65F6;&#x4F1A;&#x7B80;&#x5355;&#x6253;&#x5370;&#x4E00;&#x884C;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x5F53;&#x7528; GDB &#x8C03;&#x8BD5;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x7531;&#x4E8E; Ctrl + C &#x9ED8;&#x8BA4;&#x4F1A;&#x88AB; GDB &#x63A5;&#x6536;&#x5230;&#xFF08;&#x8BA9;&#x8C03;&#x8BD5;&#x5668;&#x4E2D;&#x65AD;&#x4E0B;&#x6765;&#xFF09;&#xFF0C;&#x5BFC;&#x81F4;&#x65E0;&#x6CD5;&#x6A21;&#x62DF;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x8FD9;&#x4E00;&#x4FE1;&#x53F7;&#x3002;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;</p>
<ul>
<li>&#x5728; GDB &#x4E2D;&#x4F7F;&#x7528; signal &#x51FD;&#x6570;&#x624B;&#x52A8;&#x7ED9;&#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x662F; signal SIGINT&#xFF1B;</li>
<li>&#x6539;&#x53D8; GDB &#x4FE1;&#x53F7;&#x5904;&#x7406;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x901A;&#x8FC7; handle SIGINT nostop print &#x544A;&#x8BC9; GDB &#x5728;&#x63A5;&#x6536;&#x5230; SIGINT &#x65F6;&#x4E0D;&#x8981;&#x505C;&#x6B62;&#xFF0C;&#x5E76;&#x628A;&#x8BE5;&#x4FE1;&#x53F7;&#x4F20;&#x9012;&#x7ED9;&#x8C03;&#x8BD5;&#x76EE;&#x6807;&#x7A0B;&#x5E8F; &#x3002;</li>
</ul>
<pre><code>(gdb) handle SIGINT nostop print pass
SIGINT is used by the debugger. 
Are you sure you want to change it? (y or n) y  

Signal Stop Print Pass to program Description  
SIGINT No Yes Yes Interrupt
(gdb)
</code></pre><h2 id="&#x51FD;&#x6570;&#x660E;&#x660E;&#x5B58;&#x5728;&#xFF0C;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x65F6;&#x5374;&#x65E0;&#x6548;">&#x51FD;&#x6570;&#x660E;&#x660E;&#x5B58;&#x5728;&#xFF0C;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x65F6;&#x5374;&#x65E0;&#x6548;</h2>
<p>&#x6709;&#x65F6;&#x5019;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x660E;&#x660E;&#x5B58;&#x5728;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x7684;&#x7A0B;&#x5E8F;&#x4E5F;&#x5B58;&#x5728;&#x8C03;&#x8BD5;&#x7B26;&#x53F7;&#xFF0C;&#x4F7F;&#x7528; break functionName &#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x65F6; GDB &#x5374;&#x63D0;&#x793A;&#xFF1A;</p>
<pre><code>Make breakpoint pending on future shared library load? y/n
</code></pre><p>&#x5373;&#x4F7F;&#x8F93;&#x5165; y &#x547D;&#x4EE4;&#xFF0C;&#x6DFB;&#x52A0;&#x7684;&#x65AD;&#x70B9;&#x53EF;&#x80FD;&#x4E5F;&#x4E0D;&#x4F1A;&#x88AB;&#x6B63;&#x786E;&#x5730;&#x89E6;&#x53D1;&#xFF0C;&#x6B64;&#x65F6;&#x9700;&#x8981;&#x6539;&#x53D8;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F7F;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#x6240;&#x5728;&#x7684;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x548C;&#x884C;&#x53F7;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x5C31;&#x80FD;&#x8FBE;&#x5230;&#x6548;&#x679C;&#x3002;</p>
<h2 id="&#x591A;&#x7EBF;&#x7A0B;&#x4E0B;&#x7981;&#x6B62;&#x7EBF;&#x7A0B;&#x5207;&#x6362;">&#x591A;&#x7EBF;&#x7A0B;&#x4E0B;&#x7981;&#x6B62;&#x7EBF;&#x7A0B;&#x5207;&#x6362;</h2>
<p>&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709; 5 &#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x9664;&#x4E86;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;</p>
<pre><code>void thread_proc(void* arg)
{
    //&#x4EE3;&#x7801;&#x884C;1
    //&#x4EE3;&#x7801;&#x884C;2
    //&#x4EE3;&#x7801;&#x884C;3
    //&#x4EE3;&#x7801;&#x884C;4
    //&#x4EE3;&#x7801;&#x884C;5
    //&#x4EE3;&#x7801;&#x884C;6
    //&#x4EE3;&#x7801;&#x884C;7
    //&#x4EE3;&#x7801;&#x884C;8
    //&#x4EE3;&#x7801;&#x884C;9
    //&#x4EE3;&#x7801;&#x884C;10
    //&#x4EE3;&#x7801;&#x884C;11
    //&#x4EE3;&#x7801;&#x884C;12
    //&#x4EE3;&#x7801;&#x884C;13
    //&#x4EE3;&#x7801;&#x884C;14
    //&#x4EE3;&#x7801;&#x884C;15
}
</code></pre><p>&#x4E3A;&#x4E86;&#x80FD;&#x8BF4;&#x6E05;&#x695A;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x56DB;&#x4E2A;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x5206;&#x522B;&#x53EB;&#x505A; A&#x3001;B&#x3001;C&#x3001;D&#x3002;</p>
<p>&#x5047;&#x8BBE; GDB &#x5F53;&#x524D;&#x6B63;&#x5728;&#x5904;&#x4E8E;&#x7EBF;&#x7A0B; A &#x7684;&#x4EE3;&#x7801;&#x884C; 3 &#x5904;&#xFF0C;&#x6B64;&#x65F6;&#x8F93;&#x5165; next &#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x671F;&#x671B;&#x7684;&#x662F;&#x8C03;&#x8BD5;&#x5668;&#x8DF3;&#x5230;&#x4EE3;&#x7801;&#x884C; 4 &#x5904;&#xFF1B;&#x6216;&#x8005;&#x4F7F;&#x7528;&#x201C;u &#x4EE3;&#x7801;&#x884C;10&#x201D;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x671F;&#x671B;&#x8F93;&#x5165; u &#x547D;&#x4EE4;&#x540E;&#x8C03;&#x8BD5;&#x5668;&#x53EF;&#x4EE5;&#x8DF3;&#x8F6C;&#x5230;&#x4EE3;&#x7801;&#x884C; 10 &#x5904;&#x3002;</p>
<p>&#x4F46;&#x662F;&#x5728;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;GDB &#x53EF;&#x80FD;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x4EE3;&#x7801;&#x884C; 1 &#x6216;&#x8005;&#x4EE3;&#x7801;&#x884C; 2 &#x5904;&#xFF0C;&#x751A;&#x81F3;&#x4EE3;&#x7801;&#x884C; 13&#x3001;&#x4EE3;&#x7801;&#x884C; 14 &#x8FD9;&#x6837;&#x7684;&#x5730;&#x65B9;&#x4E5F;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x7684;&#xFF0C;&#x8FD9;&#x4E0D;&#x662F;&#x8C03;&#x8BD5;&#x5668; bug&#xFF0C;&#x8FD9;&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x4ECE;&#x4EE3;&#x7801;&#x884C; 4 &#x5904;&#x8BA9;&#x7A0B;&#x5E8F; continue &#x65F6;&#xFF0C;&#x7EBF;&#x7A0B; A &#x867D;&#x7136;&#x4F1A;&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x7CFB;&#x7EDF;&#x7684;&#x7EBF;&#x7A0B;&#x8C03;&#x5EA6;&#x5C06; CPU &#x65F6;&#x95F4;&#x7247;&#x5207;&#x6362;&#x5230;&#x7EBF;&#x7A0B; B&#x3001;C &#x6216;&#x8005; D &#x5462;&#xFF1F;&#x90A3;&#x4E48;&#x7A0B;&#x5E8F;&#x6700;&#x7EC8;&#x505C;&#x4E0B;&#x6765;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5904;&#x4E8E;&#x4EE3;&#x7801;&#x884C; 1 &#x6216;&#x8005;&#x4EE3;&#x7801;&#x884C; 2 &#x6216;&#x8005;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x5C31;&#x4E0D;&#x5947;&#x602A;&#x4E86;&#xFF0C;&#x800C;&#x6B64;&#x65F6;&#x6253;&#x5370;&#x76F8;&#x5173;&#x7684;&#x53D8;&#x91CF;&#x503C;&#xFF0C;&#x53EF;&#x80FD;&#x5C31;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x7EBF;&#x7A0B; A &#x7684;&#x76F8;&#x5173;&#x503C;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8C03;&#x8BD5;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#xFF0C;GDB &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5728;&#x8C03;&#x8BD5;&#x65F6;&#x5C06;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x6D41;&#x9501;&#x5B9A;&#x5728;&#x5F53;&#x524D;&#x8C03;&#x8BD5;&#x7EBF;&#x7A0B;&#x7684;&#x547D;&#x4EE4;&#xFF1A;set scheduler-locking on&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x8FD9;&#x4E00;&#x9009;&#x9879;&#xFF0C;&#x4F7F;&#x7528; set scheduler-locking off&#x3002;&#x9664;&#x4E86; on/off &#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x9009;&#x9879;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x4E0D;&#x592A;&#x5E38;&#x7528;&#x7684;&#x503C;&#x53EB; step&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x4ECB;&#x7ECD;&#x4E86;&#x3002;</p>
<h2 id="&#x6761;&#x4EF6;&#x65AD;&#x70B9;">&#x6761;&#x4EF6;&#x65AD;&#x70B9;</h2>
<p>&#x5728;&#x5B9E;&#x9645;&#x8C03;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x4F1A;&#x7528;&#x5230;&#x4E09;&#x79CD;&#x65AD;&#x70B9;&#xFF1A;&#x666E;&#x901A;&#x65AD;&#x70B9;&#x3001;&#x6761;&#x4EF6;&#x65AD;&#x70B9;&#x548C;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x3002;</p>
<p>&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x53C8;&#x53EB;&#x6570;&#x636E;&#x65AD;&#x70B9;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x65AD;&#x70B9;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x524D;&#x9762;&#x8BFE;&#x7A0B;&#x4E2D;&#x4ECB;&#x7ECD;&#x7684;&#x7528; watch &#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x7684;&#x90E8;&#x5206;&#x65AD;&#x70B9;&#xFF08;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x90E8;&#x5206;&#x800C;&#x4E0D;&#x662F;&#x5168;&#x90E8;&#xFF0C;&#x524D;&#x9762;&#x4ECB;&#x7ECD;&#x539F;&#x56E0;&#x4E86;&#xFF0C;watch &#x6DFB;&#x52A0;&#x7684;&#x65AD;&#x70B9;&#x6709;&#x90E8;&#x5206;&#x662F;&#x901A;&#x8FC7;&#x8F6F;&#x4E2D;&#x65AD;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x4E0D;&#x5C5E;&#x4E8E;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#xFF09;&#x3002;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x7684;&#x89E6;&#x53D1;&#x65F6;&#x673A;&#x662F;&#x76D1;&#x89C6;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x6216;&#x8005;&#x53D8;&#x91CF;&#x503C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;</p>
<p>&#x666E;&#x901A;&#x65AD;&#x70B9;&#x5C31;&#x662F;&#x9664;&#x53BB;&#x6761;&#x4EF6;&#x65AD;&#x70B9;&#x548C;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x4EE5;&#x5916;&#x7684;&#x65AD;&#x70B9;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x91CD;&#x70B9;&#x6765;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x6761;&#x4EF6;&#x65AD;&#x70B9;&#xFF0C;&#x6240;&#x8C13;&#x6761;&#x4EF6;&#x65AD;&#x70B9;&#xFF0C;&#x5C31;&#x662F;&#x6EE1;&#x8DB3;&#x67D0;&#x4E2A;&#x6761;&#x4EF6;&#x624D;&#x4F1A;&#x89E6;&#x53D1;&#x7684;&#x65AD;&#x70B9;&#xFF0C;&#x8FD9;&#x91CC;&#x5148;&#x4E3E;&#x4E00;&#x4E2A;&#x76F4;&#x89C2;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>void do_something_func(int i)
{
   i ++;
   i = 100 * i;
}

int main()
{
   for(int i = 0; i &lt; 10000; ++i)
   {
      do_something_func(i);
   }

   return 0;
}
</code></pre><p>&#x5728;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x5047;&#x5982;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5F53;&#x53D8;&#x91CF; i=5000 &#x65F6;&#xFF0C;&#x8FDB;&#x5165; do_something_func() &#x51FD;&#x6570;&#x8FFD;&#x8E2A;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#x7EC6;&#x8282;&#x3002;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x589E;&#x52A0;&#x4E00;&#x4E2A; i=5000 &#x7684; if &#x6761;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x94FE;&#x63A5;&#x8C03;&#x8BD5;&#xFF0C;&#x8FD9;&#x6837;&#x663E;&#x7136;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x5927;&#x578B;&#x9879;&#x76EE;&#xFF0C;&#x6BCF;&#x6B21;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x94FE;&#x63A5;&#x90FD;&#x9700;&#x8981;&#x82B1;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x800C;&#x4E14;&#x8C03;&#x8BD5;&#x5B8C;&#x4E86;&#x8FD8;&#x5F97;&#x628A;&#x7A0B;&#x5E8F;&#x4FEE;&#x6539;&#x56DE;&#x6765;&#x3002;</p>
<p>&#x6709;&#x4E86;&#x6761;&#x4EF6;&#x65AD;&#x70B9;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x4E48;&#x9EBB;&#x70E6;&#x4E86;&#xFF0C;&#x6DFB;&#x52A0;&#x6761;&#x4EF6;&#x65AD;&#x70B9;&#x7684;&#x547D;&#x4EE4;&#x662F; break [lineNo] if [condition]&#xFF0C;&#x5176;&#x4E2D; lineNo &#x662F;&#x7A0B;&#x5E8F;&#x89E6;&#x53D1;&#x65AD;&#x70B9;&#x540E;&#x9700;&#x8981;&#x505C;&#x4E0B;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;condition &#x662F;&#x65AD;&#x70B9;&#x89E6;&#x53D1;&#x7684;&#x6761;&#x4EF6;&#x3002;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x5199;&#x6210; break 11 if i==5000&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;11 &#x5C31;&#x662F;&#x8C03;&#x7528; do_something_fun() &#x51FD;&#x6570;&#x6240;&#x5728;&#x7684;&#x884C;&#x53F7;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x7684;&#x884C;&#x53F7;&#x5FC5;&#x987B;&#x662F;&#x5408;&#x7406;&#x884C;&#x53F7;&#xFF0C;&#x5982;&#x679C;&#x884C;&#x53F7;&#x975E;&#x6CD5;&#x6216;&#x8005;&#x884C;&#x53F7;&#x4F4D;&#x7F6E;&#x4E0D;&#x5408;&#x7406;&#x4E5F;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x8FD9;&#x4E2A;&#x65AD;&#x70B9;&#x3002;</p>
<pre><code>(gdb) break 11 if i==5000       
Breakpoint 2 at 0x400514: file test1.c, line 10.
(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /root/testgdb/test1 

Breakpoint 1, main () at test1.c:9
9          for(int i = 0; i &lt; 10000; ++i)
(gdb) c
Continuing.

Breakpoint 2, main () at test1.c:11
11            do_something_func(i);
(gdb) p i
$1 = 5000
</code></pre><p>&#x628A; i &#x6253;&#x5370;&#x51FA;&#x6765;&#xFF0C;GDB &#x786E;&#x5B9E;&#x662F;&#x5728; i=5000 &#x65F6;&#x505C;&#x4E0B;&#x6765;&#x4E86;&#x3002;</p>
<p>&#x6DFB;&#x52A0;&#x6761;&#x4EF6;&#x65AD;&#x70B9;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x5148;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x65AD;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x201C;condition &#x65AD;&#x70B9;&#x7F16;&#x53F7;&#x65AD;&#x70B9;&#x89E6;&#x53D1;&#x6761;&#x4EF6;&#x201D;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6DFB;&#x52A0;&#x3002;&#x6DFB;&#x52A0;&#x4E00;&#x4E0B;&#x4E0A;&#x8FF0;&#x65AD;&#x70B9;&#xFF1A;</p>
<pre><code>(gdb) b 11
Breakpoint 1 at 0x400514: file test1.c, line 11.
(gdb) info b
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000000400514 in main at test1.c:11
(gdb) condition 1 i==5000
(gdb) r
Starting program: /root/testgdb/test1 
y

Breakpoint 1, main () at test1.c:11
11            do_something_func(i);
Missing separate debuginfos, use: debuginfo-install glibc-2.17-196.el7_4.2.x86_64
(gdb) p i
$1 = 5000
(gdb)
</code></pre><p>&#x540C;&#x6837;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x5982;&#x679C;&#x65AD;&#x70B9;&#x7F16;&#x53F7;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x6DFB;&#x52A0;&#x6210;&#x529F;&#xFF0C;GDB &#x4F1A;&#x63D0;&#x793A;&#x65AD;&#x70B9;&#x4E0D;&#x5B58;&#x5728;&#xFF1A;</p>
<pre><code>(gdb) condition 2 i==5000
No breakpoint number 2.
</code></pre><h2 id="&#x4F7F;&#x7528;-gdb-&#x8C03;&#x8BD5;&#x591A;&#x8FDB;&#x7A0B;&#x7A0B;&#x5E8F;">&#x4F7F;&#x7528; GDB &#x8C03;&#x8BD5;&#x591A;&#x8FDB;&#x7A0B;&#x7A0B;&#x5E8F;</h2>
<p>&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x591A;&#x8FDB;&#x7A0B;&#x7A0B;&#x5E8F;&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528; Linux &#x7CFB;&#x7EDF;&#x8C03;&#x7528; fork() &#x51FD;&#x6570;&#x4EA7;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x6CA1;&#x6709;&#x76F8;&#x4E92;&#x5173;&#x8054;&#x7684;&#x8FDB;&#x7A0B;&#x5C31;&#x662F;&#x666E;&#x901A;&#x7684; GDB &#x8C03;&#x8BD5;&#xFF0C;&#x4E0D;&#x5FC5;&#x523B;&#x610F;&#x8BA8;&#x8BBA;&#x3002;</p>
<p>&#x5728;&#x5B9E;&#x9645;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x5982;&#x6709;&#x8FD9;&#x6837;&#x4E00;&#x7C7B;&#x7A0B;&#x5E8F;&#xFF0C;&#x5982; Nginx&#xFF0C;&#x5BF9;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#x662F;&#x91C7;&#x7528;&#x591A;&#x8FDB;&#x7A0B;&#x6A21;&#x578B;&#xFF0C;&#x5F53; Nginx &#x63A5;&#x53D7;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x540E;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x4E00;&#x8DEF;&#x8FDE;&#x63A5;&#x4E0A;&#x7684;&#x4FE1;&#x606F;&#x6765;&#x5F80;&#xFF0C;&#x65B0;&#x4EA7;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x4E0E;&#x539F;&#x8FDB;&#x7A0B;&#x4E92;&#x4E3A;&#x7236;&#x5B50;&#x5173;&#x7CFB;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x7528; GDB &#x8C03;&#x8BD5;&#x8FD9;&#x6837;&#x7684;&#x7236;&#x5B50;&#x8FDB;&#x7A0B;&#x5462;&#xFF1F;&#x4E00;&#x822C;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul>
<li>&#x7528; GDB &#x5148;&#x8C03;&#x8BD5;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x7B49;&#x5B50;&#x8FDB;&#x7A0B; fork &#x51FA;&#x6765;&#x540E;&#xFF0C;&#x4F7F;&#x7528; gdb attach &#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0A;&#x53BB;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x5F00;&#x542F;&#x4E00;&#x4E2A; session &#x7A97;&#x53E3;&#x7528;&#x4E8E;&#x8C03;&#x8BD5;&#xFF0C;gdb attach &#x7684;&#x7528;&#x6CD5;&#x5728;&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x8FC7;&#x4E86;&#xFF1B;</li>
<li>GDB &#x8C03;&#x8BD5;&#x5668;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x9009;&#x9879;&#x53EB; follow-fork&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; show follow-fork mode &#x67E5;&#x770B;&#x5F53;&#x524D;&#x503C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; set follow-fork mode &#x6765;&#x8BBE;&#x7F6E;&#x662F;&#x5F53;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B; fork &#x51FA;&#x65B0;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;GDB &#x662F;&#x7EE7;&#x7EED;&#x8C03;&#x8BD5;&#x7236;&#x8FDB;&#x7A0B;&#x8FD8;&#x662F;&#x5B50;&#x8FDB;&#x7A0B;&#xFF08;&#x53D6;&#x503C;&#x662F; child&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x7236;&#x8FDB;&#x7A0B;&#xFF08; &#x53D6;&#x503C;&#x662F; parent&#xFF09;&#x3002;</li>
</ul>
<pre><code>(gdb) show follow-fork mode     
Debugger response to a program call of fork or vfork is &quot;parent&quot;.
(gdb) set follow-fork child
(gdb) show follow-fork mode
Debugger response to a program call of fork or vfork is &quot;child&quot;.
(gdb)
</code></pre><p>&#x5EFA;&#x8BAE;&#x8BFB;&#x8005;&#x81EA;&#x5DF1;&#x5199;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528; fork() &#x51FD;&#x6570;&#x53BB;&#x5B9E;&#x8DF5;&#x4E00;&#x4E0B;&#xFF0C;&#x82E5;&#x8981;&#x60F3;&#x9605;&#x8BFB;&#x548C;&#x8C03;&#x8BD5; Apache HTTP Server &#x6216;&#x8005; Nginx &#x8FD9;&#x6837;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FD9;&#x4E2A;&#x6280;&#x80FD;&#x662F;&#x5FC5;&#x987B;&#x8981;&#x638C;&#x63E1;&#x7684;&#x3002;</p>
<h1 id="&#x81EA;&#x5B9A;&#x4E49;-gdb-&#x8C03;&#x8BD5;&#x547D;&#x4EE4;">&#x81EA;&#x5B9A;&#x4E49; GDB &#x8C03;&#x8BD5;&#x547D;&#x4EE4;</h1>
<p>&#x5728;&#x67D0;&#x4E9B;&#x573A;&#x666F;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x7A0B;&#x5E8F;&#x60C5;&#x51B5;&#xFF0C;&#x5236;&#x5B9A;&#x4E00;&#x4E9B;&#x53EF;&#x4EE5;&#x5728;&#x8C03;&#x8BD5;&#x65F6;&#x8F93;&#x51FA;&#x7A0B;&#x5E8F;&#x7279;&#x5B9A;&#x4FE1;&#x606F;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x5728; GDB &#x4E2D;&#x5F88;&#x5BB9;&#x6613;&#x505A;&#x5230;&#xFF0C;&#x53EA;&#x8981;&#x5728; Linux &#x5F53;&#x524D;&#x7528;&#x6237;&#x5BB6;&#xFF08;home&#xFF09;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x5982; root &#x7528;&#x6237;&#x662F; &#x201C;<strong>/root</strong>&#x201D; &#x76EE;&#x5F55;&#xFF0C;&#x975E; root &#x7528;&#x6237;&#x5219;&#x5BF9;&#x5E94; &#x201C;<strong>/home/ &#x7528;&#x6237;&#x540D;</strong>&#x201D;&#x76EE;&#x5F55;&#x3002;</p>
<p>&#x5728;&#x4E0A;&#x8FF0;&#x76EE;&#x5F55;&#x4E2D;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x540D;&#x53EB; <strong>.gdbinit</strong> &#x6587;&#x4EF6;&#xFF0C;&#x5728; Linux &#x7CFB;&#x7EDF;&#x4E2D;&#x4EE5;&#x70B9;&#x53F7;&#x5F00;&#x5934;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x9690;&#x85CF;&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64; <strong>.gdbinit</strong> &#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>ls -a</strong> &#x547D;&#x4EE4;&#x67E5;&#x770B;&#xFF08;<strong>a</strong> &#x7684;&#x542B;&#x4E49;&#x662F; <strong>all</strong> &#x7684;&#x610F;&#x601D;&#xFF0C;&#x5373;&#x663E;&#x793A;&#x6240;&#x6709;&#x6587;&#x4EF6;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x5C31;&#x5305;&#x62EC;&#x663E;&#x793A;&#x9690;&#x85CF;&#x6587;&#x4EF6;&#xFF09;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x4F7F;&#x7528; <strong>vim</strong> &#x6216;&#x8005; <strong>touch</strong> &#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5C31;&#x53EF;&#x4EE5;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x4E0A;&#x4F60;&#x81EA;&#x5B9A;&#x4E49;&#x547D;&#x4EE4;&#x7684; shell &#x811A;&#x672C;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x4EE5; Apache Web &#x670D;&#x52A1;&#x5668;&#x7684;&#x6E90;&#x7801;&#x4E3A;&#x4F8B;&#xFF08;<a href="http://httpd.apache.org/" target="_blank">Apache Server &#x7684;&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x8BF7;&#x70B9;&#x51FB;&#x8FD9;&#x91CC;</a>&#xFF09;&#xFF0C;&#x5728;&#x6E90;&#x7801;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x6709;&#x4E2A;&#x6587;&#x4EF6;&#x53EB; .gdbinit&#xFF0C;&#x8FD9;&#x4E2A;&#x5C31;&#x662F; Apache Server &#x81EA;&#x5B9A;&#x4E49;&#x7684; GDB &#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code class="lang-c"><span class="hljs-meta"># gdb macros which may be useful for folks using gdb to debug</span>
<span class="hljs-meta"># apache.  Delete it <span class="hljs-meta-keyword">if</span> it bothers you.</span>

define dump_table
    <span class="hljs-built_in">set</span> $t = (<span class="hljs-keyword">apr_table_entry_t</span> *)((<span class="hljs-keyword">apr_array_header_t</span> *)$arg0)-&gt;elts
    <span class="hljs-built_in">set</span> $n = ((<span class="hljs-keyword">apr_array_header_t</span> *)$arg0)-&gt;nelts
    <span class="hljs-built_in">set</span> $i = <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> $i &lt; $n
    <span class="hljs-keyword">if</span> $t[$i].val == (<span class="hljs-keyword">void</span> *)<span class="hljs-number">0L</span>
       <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;[%u] &apos;%s&apos;=&gt;NULL\n&quot;</span>, $i, $t[$i].key
    <span class="hljs-keyword">else</span>
       <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;[%u] &apos;%s&apos;=&apos;%s&apos; [%p]\n&quot;</span>, $i, $t[$i].key, $t[$i].val, $t[$i].val
    end
    <span class="hljs-built_in">set</span> $i = $i + <span class="hljs-number">1</span>
    end
end

<span class="hljs-meta"># &#x7701;&#x7565;&#x90E8;&#x5206;&#x4EE3;&#x7801;</span>

<span class="hljs-meta"># Set sane defaults for common signals:</span>
handle SIGPIPE noprint pass nostop
handle SIGUSR1 print pass nostop
</code></pre>
<p>&#x5F53;&#x7136;&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x5E95;&#x90E8;&#xFF0C;Apache &#x8BBE;&#x7F6E;&#x4E86;&#x8BA9; GDB &#x8C03;&#x8BD5;&#x5668;&#x4E0D;&#x8981;&#x5904;&#x7406; SIGPIPE &#x548C; SIGUSR1 &#x8FD9;&#x4E24;&#x4E2A;&#x4FE1;&#x53F7;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x8FD9;&#x4E24;&#x4E2A;&#x4FE1;&#x53F7;&#x76F4;&#x63A5;&#x4F20;&#x9012;&#x7ED9;&#x88AB;&#x8C03;&#x8BD5;&#x7684;&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#xFF08;&#x5373; Apache Server&#xFF09;&#x3002;</p>
<h1 id="gdb-tui&#x2014;&#x2014;&#x5728;-gdb-&#x4E2D;&#x663E;&#x793A;&#x7A0B;&#x5E8F;&#x6E90;&#x7801;">GDB TUI&#x2014;&#x2014;&#x5728; GDB &#x4E2D;&#x663E;&#x793A;&#x7A0B;&#x5E8F;&#x6E90;&#x7801;</h1>
<p>&#x5F88;&#x591A; Linux &#x7528;&#x6237;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#x7528;&#x6237;&#x4E60;&#x60EF;&#x4E86;&#x6709;&#x5F3A;&#x5927;&#x7684;&#x6E90;&#x7801;&#x663E;&#x793A;&#x7A97;&#x53E3;&#x7684;&#x8C03;&#x8BD5;&#x5668;&#xFF0C;&#x53EF;&#x80FD;&#x5BF9; GDB &#x7528; list &#x663E;&#x793A;&#x6E90;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x975E;&#x5E38;&#x4E0D;&#x4E60;&#x60EF;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x56E0;&#x4E3A; GDB &#x5728;&#x8C03;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x5730;&#x5C55;&#x793A;&#x6E90;&#x7801;&#x3002;</p>
<p>GDB &#x4E2D;&#x53EF;&#x4EE5;&#x7528; list &#x547D;&#x4EE4;&#x663E;&#x793A;&#x6E90;&#x7801;&#xFF0C;&#x4F46;&#x662F; list &#x547D;&#x4EE4;&#x663E;&#x793A;&#x6CA1;&#x6709;&#x4EE3;&#x7801;&#x9AD8;&#x4EAE;&#xFF0C;&#x4E5F;&#x4E0D;&#x80FD;&#x4E00;&#x773C;&#x5B9A;&#x4F4D;&#x5230;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x90A3;&#x884C;&#x4EE3;&#x7801;&#x5728;&#x6574;&#x4E2A;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x53EF;&#x4EE5;&#x6BEB;&#x4E0D;&#x5938;&#x5F20;&#x5730;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x963B;&#x6B62;&#x5F88;&#x591A;&#x4EBA;&#x957F;&#x671F;&#x4F7F;&#x7528; GDB &#x7684;&#x6700;&#x5927;&#x969C;&#x788D;&#xFF0C;&#x5982;&#x6B64;&#x4E0D;&#x4FBF;&#xFF0C;&#x4EE5;&#x81F3;&#x4E8E; GNU &#x90FD;&#x60F3;&#x529E;&#x6CD5;&#x89E3;&#x51B3;&#x4E86;&#x2014;&#x2014;&#x4F7F;&#x7528; GDB &#x81EA;&#x5E26;&#x7684; GDB TUI&#x3002;</p>
<p>&#x5148;&#x6765;&#x770B;&#x4E00;&#x5F20;&#x6548;&#x679C;&#x56FE;&#xFF0C;&#x662F;&#x6211;&#x5728;&#x4F7F;&#x7528; GDB TUI &#x8C03;&#x8BD5; redis-server &#x65F6;&#x7684;&#x622A;&#x56FE;&#xFF0C;&#x8FD9;&#x6837;&#x770B;&#x4EE3;&#x7801;&#x6BD4;&#x4F7F;&#x7528; list &#x547D;&#x4EE4;&#x66F4;&#x65B9;&#x4FBF;&#x3002;</p>
<p><img src="https://images.gitbook.cn/ee7aa260-eef6-11e8-9cda-75ff72aa1f8a" alt="img"></p>
<h2 id="&#x5F00;&#x542F;-gdb-tui-&#x6A21;&#x5F0F;">&#x5F00;&#x542F; GDB TUI &#x6A21;&#x5F0F;</h2>
<p>&#x5F00;&#x542F; GDB TUI &#x6A21;&#x5F0F;&#x6709;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x4F7F;&#x7528; gdbtui &#x547D;&#x4EE4;&#x6216;&#x8005; gdb-tui &#x547D;&#x4EE4;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x8C03;&#x8BD5;&#x3002;</p>
<pre><code>gdbtui -q &#x9700;&#x8981;&#x8C03;&#x8BD5;&#x7684;&#x7A0B;&#x5E8F;&#x540D;
</code></pre><p>&#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x76F4;&#x63A5;&#x4F7F;&#x7528; GDB &#x8C03;&#x8BD5;&#x4EE3;&#x7801;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x5207;&#x6362;&#x952E; <strong>Ctrl + X + A</strong> &#x8C03;&#x51FA; GDB TUI &#x3002;</p>
<h2 id="gdb-tui-&#x6A21;&#x5F0F;&#x5E38;&#x7528;&#x7A97;&#x53E3;">GDB TUI &#x6A21;&#x5F0F;&#x5E38;&#x7528;&#x7A97;&#x53E3;</h2>
<p><img src="https://images.gitbook.cn/18b37cd0-fc41-11e8-aae4-7b05c4e3ac9c" alt="enter image description here"></p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;GDB TUI &#x6A21;&#x5F0F;&#x4F1A;&#x663E;&#x793A; command &#x7A97;&#x53E3;&#x548C; source &#x7A97;&#x53E3;&#xFF0C;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7A97;&#x53E3;&#xFF0C;&#x5982;&#x4E0B;&#x5217;&#x4E3E;&#x7684;&#x56DB;&#x4E2A;&#x5E38;&#x7528;&#x7684;&#x7A97;&#x53E3;&#xFF1A;</p>
<ul>
<li>&#xFF08;cmd&#xFF09;command &#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x53EF;&#x4EE5;&#x8F93;&#x5165;&#x8C03;&#x8BD5;&#x547D;&#x4EE4;</li>
<li>&#xFF08;src&#xFF09;source &#x6E90;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#xFF0C; &#x663E;&#x793A;&#x5F53;&#x524D;&#x884C;&#x3001;&#x65AD;&#x70B9;&#x7B49;&#x4FE1;&#x606F;</li>
<li>&#xFF08;asm&#xFF09;assembly &#x6C47;&#x7F16;&#x4EE3;&#x7801;&#x7A97;&#x53E3;</li>
<li>&#xFF08;reg&#xFF09;register &#x5BC4;&#x5B58;&#x5668;&#x7A97;&#x53E3;</li>
</ul>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;layout + &#x7A97;&#x53E3;&#x7C7B;&#x578B;&#x201D;&#x547D;&#x4EE4;&#x6765;&#x9009;&#x62E9;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5728; cmd &#x7A97;&#x53E3;&#x8F93;&#x5165; layout asm &#x5219;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#x3002;</p>
<p><img src="https://images.gitbook.cn/0d2017e0-eef7-11e8-b080-ffb9f1a6f860" alt="img"></p>
<p>layout &#x547D;&#x4EE4;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x4FEE;&#x6539;&#x7A97;&#x53E3;&#x5E03;&#x5C40;&#xFF0C;&#x5728; cmd &#x7A97;&#x53E3;&#x4E2D;&#x8F93;&#x5165; help layout&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x6709;&#xFF1A;</p>
<pre><code>Usage: layout prev | next | &lt;layout_name&gt; 
Layout names are:
   src   : Displays source and command windows.
   asm   : Displays disassembly and command windows.
   split : Displays source, disassembly and command windows.
   regs  : Displays register window. If existing layout
           is source/command or assembly/command, the 
           register window is displayed. If the
           source/assembly/command (split) is displayed, 
           the register window is displayed with 
           the window that has current logical focus.
</code></pre><p>&#x53E6;&#x5916;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; winheight &#x547D;&#x4EE4;&#x4FEE;&#x6539;&#x5404;&#x4E2A;&#x7A97;&#x53E3;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code>(gdb) help winheight
Set the height of a specified window.
Usage: winheight &lt;win_name&gt; [+ | -] &lt;#lines&gt;
Window names are:
src  : the source window
cmd  : the command window
asm  : the disassembly window
regs : the register display

##&#x5C06;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#x7684;&#x9AD8;&#x5EA6;&#x6269;&#x5927; 5 &#x884C;&#x4EE3;&#x7801;
winheight src + 5
##&#x5C06;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#x7684;&#x9AD8;&#x5EA6;&#x51CF;&#x5C0F; 4 &#x4EE3;&#x7801;
winheight src - 4
</code></pre><p>&#x5F53;&#x524D; GDB TUI &#x7A97;&#x53E3;&#x653E;&#x5927;&#x6216;&#x8005;&#x7F29;&#x5C0F;&#x4EE5;&#x540E;&#xFF0C;&#x7A97;&#x53E3;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x4E0D;&#x4F1A;&#x81EA;&#x5DF1;&#x5237;&#x65B0;&#x4EE5;&#x9002;&#x5E94;&#x65B0;&#x7684;&#x7A97;&#x53E3;&#x5C3A;&#x5BF8;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; space &#x952E;&#x5F3A;&#x884C;&#x5237;&#x65B0; GDB TUI &#x7A97;&#x53E3;&#x3002;</p>
<h2 id="&#x7A97;&#x53E3;&#x7126;&#x70B9;&#x5207;&#x6362;">&#x7A97;&#x53E3;&#x7126;&#x70B9;&#x5207;&#x6362;</h2>
<p>&#x5728;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E0B;&#xFF0C;&#x65B9;&#x5411;&#x952E;&#x548C; PageUp/PageDown &#x90FD;&#x662F;&#x7528;&#x6765;&#x63A7;&#x5236; GDB TUI &#x7684; src &#x7A97;&#x53E3;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x4E0A;&#x4E0B;&#x952E;&#x663E;&#x793A;&#x524D;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x548C;&#x540E;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#xFF0C;&#x4E0D;&#x8FC7;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Ctrl + N/Ctrl + P &#x6765;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x3002;</p>
<blockquote>
<p><strong>&#x6CE8;&#x610F;</strong>&#xFF1A;&#x901A;&#x8FC7;&#x65B9;&#x5411;&#x952E;&#x8C03;&#x6574;&#x4E86;GDB TUI &#x7684; src &#x7A97;&#x53E3;&#x4EE5;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x7528; update &#x547D;&#x4EE4;&#x91CD;&#x65B0;&#x628A;&#x7126;&#x70B9;&#x5B9A;&#x4F4D;&#x5230;&#x5F53;&#x524D;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x4E0A;&#x3002;</p>
</blockquote>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; focus &#x547D;&#x4EE4;&#x6765;&#x8C03;&#x6574;&#x7126;&#x70B9;&#x4F4D;&#x7F6E;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x7126;&#x70B9;&#x662F;&#x5728; src &#x7A97;&#x53E3;&#xFF0C;&#x901A;&#x8FC7; focus next &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x628A;&#x7126;&#x70B9;&#x79FB;&#x5230; cmd &#x7A97;&#x53E3;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x50CF;&#x4EE5;&#x524D;&#x4E00;&#x6837;&#xFF0C;&#x901A;&#x8FC7;&#x65B9;&#x5411;&#x952E;&#x6765;&#x5207;&#x6362;&#x4E0A;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x548C;&#x4E0B;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x3002;&#x540C;&#x7406;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; focus prev &#x5207;&#x56DE;&#x5230;&#x6E90;&#x7801;&#x7A97;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x7126;&#x70B9;&#x4E0D;&#x5728; src &#x7A97;&#x53E3;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x5FC5;&#x4F7F;&#x7528;&#x65B9;&#x5411;&#x952E;&#x6765;&#x6D4F;&#x89C8;&#x6E90;&#x7801;&#x4E86;&#x3002;</p>
<pre><code>(gdb) help focus  
help focus
Set focus to named window or next/prev window.
Usage: focus {&lt;win&gt; | next | prev}
Valid Window names are:
src  : the source window
asm  : the disassembly window
regs : the register display
cmd  : the command window
</code></pre><h1 id="gdb-&#x9AD8;&#x7EA7;&#x6269;&#x5C55;&#x5DE5;&#x5177;&#x2014;&#x2014;cgdb">GDB &#x9AD8;&#x7EA7;&#x6269;&#x5C55;&#x5DE5;&#x5177;&#x2014;&#x2014;CGDB</h1>
<p>&#x5728;&#x4F7F;&#x7528; GDB &#x5355;&#x6B65;&#x8C03;&#x8BD5;&#x65F6;&#xFF0C;&#x4EE3;&#x7801;&#x6BCF;&#x6267;&#x884C;&#x4E00;&#x884C;&#x624D;&#x663E;&#x793A;&#x4E0B;&#x4E00;&#x884C;&#xFF0C;&#x5F88;&#x591A;&#x7528;&#x60EF;&#x4E86;&#x56FE;&#x5F62;&#x754C;&#x9762; IDE &#x8C03;&#x8BD5;&#x7684;&#x8BFB;&#x8005;&#x53EF;&#x80FD;&#x4F1A;&#x89C9;&#x5F97;&#x975E;&#x5E38;&#x4E0D;&#x65B9;&#x4FBF;&#xFF0C;&#x800C; GDB TUI &#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x9519;&#xFF0C;&#x4F46;&#x662F;&#x5B58;&#x5728;&#x7ECF;&#x5E38;&#x82B1;&#x5C4F;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E5F;&#x8BA9;&#x5F88;&#x591A;&#x8BFB;&#x8005;&#x4E0D;&#x80DC;&#x5176;&#x70E6;&#x3002;&#x90A3; Linux &#x4E0B;&#x6709;&#x6CA1;&#x6709;&#x65E2;&#x80FD;&#x5728;&#x8C03;&#x8BD5;&#x65F6;&#x52A8;&#x6001;&#x663E;&#x793A;&#x5F53;&#x524D;&#x8C03;&#x8BD5;&#x5904;&#x7684;&#x6587;&#x4EF6;&#x4EE3;&#x7801;&#xFF0C;&#x53C8;&#x80FD;&#x4E0D;&#x82B1;&#x5C4F;&#x7684;&#x5DE5;&#x5177;&#x5462;&#xFF1F;&#x6709;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x662F; CGDB&#x3002;</p>
<p>CGDB &#x672C;&#x8D28;&#x4E0A;&#x662F;&#x5BF9; GDB &#x505A;&#x4E86;&#x4E00;&#x5C42;&#x201C;&#x5305;&#x88F9;&#x201D;&#xFF0C;&#x6240;&#x6709;&#x5728; GDB &#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5728; CGDB &#x4E2D;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="cgdb-&#x7684;&#x5B89;&#x88C5;">CGDB &#x7684;&#x5B89;&#x88C5;</h2>
<p>CGDB &#x7684;&#x5B98;&#x7F51;<a href="http://cgdb.github.io/" target="_blank">&#x8BF7;&#x70B9;&#x51FB;&#x8FD9;&#x91CC;&#x67E5;&#x770B;</a>&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x5C06; CGDB &#x538B;&#x7F29;&#x5305;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;&#xFF1A;</p>
<pre><code>wget https://cgdb.me/files/cgdb-0.7.0.tar.gz
</code></pre><p>&#x7136;&#x540E;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#x89E3;&#x538B;&#x3001;&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5;&#xFF1A;</p>
<pre><code>tar xvfz cgdb-0.7.0.tar.gz
cd cgdb-0.7.0
./configure 
make
make install
</code></pre><p>CGDB &#x5728;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x4F9D;&#x8D56;&#x4E00;&#x4E9B;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x5E93;&#x7CFB;&#x7EDF;&#x4E0A;&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x5B89;&#x88C5;&#x4E00;&#x4E0B;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x5E38;&#x89C1;&#x7684;&#x9519;&#x8BEF;&#x53CA;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5982;&#x4E0B;&#xFF08;&#x8FD9;&#x91CC;&#x4EE5; CentOS &#x7CFB;&#x7EDF;&#x4E3A;&#x4F8B;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F; yum &#x5B89;&#x88C5;&#x65B9;&#x5F0F;&#xFF0C;&#x5176;&#x4ED6; Linux &#x7248;&#x672C;&#x90FD;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x547D;&#x4EE4;&#xFF0C;&#x8BF7;&#x81EA;&#x884C;&#x67E5;&#x627E;&#xFF09;&#x3002;</p>
<p>&#xFF08;1&#xFF09;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>configure: error: CGDB requires curses.h or ncurses/curses.h to build.
</code></pre><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</p>
<pre><code>yum install ncurses-devel
</code></pre><p>&#xFF08;2&#xFF09;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>configure: error: Please install makeinfo before installing
</code></pre><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</p>
<pre><code>yum install install texinfo
</code></pre><p>&#xFF08;3&#xFF09;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>configure: error: Please install help2man
</code></pre><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</p>
<pre><code>yum install help2man
</code></pre><p>&#xFF08;4&#xFF09;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>configure: error: CGDB requires GNU readline 5.1 or greater to link.
If you used --with-readline instead of using the system readline library,
make sure to set the correct readline library on the linker search path
via LD_LIBRARY_PATH or some other facility.
</code></pre><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</p>
<pre><code>yum install readline-devel
</code></pre><p>&#xFF08;5&#xFF09;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>configure: error: Please install flex before installing
</code></pre><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</p>
<pre><code>yum install flex
</code></pre><h2 id="cgdb-&#x7684;&#x4F7F;&#x7528;">CGDB &#x7684;&#x4F7F;&#x7528;</h2>
<p>&#x5B89;&#x88C5;&#x6210;&#x529F;&#x4EE5;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; CGDB &#x4E86;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165; cgdb &#x547D;&#x4EE4;&#x542F;&#x52A8; CGDB &#xFF0C;&#x542F;&#x52A8;&#x540E;&#x754C;&#x9762;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://images.gitbook.cn/7f8a9ec0-f1f6-11e8-b37f-7bcfd20d5d3a" alt="img"></p>
<p>&#x754C;&#x9762;&#x5206;&#x4E3A;&#x4E0A;&#x4E0B;&#x4E24;&#x90E8;&#x5206;&#xFF1A;&#x4E0A;&#x90E8;&#x4E3A;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#xFF0C;&#x663E;&#x793A;&#x8C03;&#x8BD5;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#xFF1B;&#x4E0B;&#x90E8;&#x5C31;&#x662F; GDB &#x539F;&#x6765;&#x7684;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#x3002;&#x9ED8;&#x8BA4;&#x7A97;&#x53E3;&#x7126;&#x70B9;&#x5728;&#x4E0B;&#x90E8;&#x7684;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x5C06;&#x7126;&#x70B9;&#x5207;&#x6362;&#x5230;&#x4E0A;&#x90E8;&#x7684;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#xFF0C;&#x6309;&#x952E;&#x76D8;&#x4E0A;&#x7684; Esc &#x952E;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x6B21;&#x6309;&#x5B57;&#x6BCD; i &#x952E;&#x5C06;&#x4F7F;&#x7126;&#x70B9;&#x56DE;&#x5230;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#x3002;</p>
<blockquote>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x4E2A;&#x201C;&#x7126;&#x70B9;&#x7A97;&#x53E3;&#x201D;&#x7684;&#x6982;&#x5FF5;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x5B83;&#x51B3;&#x5B9A;&#x7740;&#x4F60;&#x5F53;&#x524D;&#x53EF;&#x4EE5;&#x64CD;&#x4F5C;&#x7684;&#x662F;&#x4E0A;&#x90E8;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#x8FD8;&#x662F;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF08; &#x548C;GDB TUI &#x4E00;&#x6837;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x6211;&#x4EEC;&#x7528; Redis &#x81EA;&#x5E26;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F; redis-cli &#x4E3A;&#x4F8B;&#xFF0C;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x542F;&#x52A8;&#x8C03;&#x8BD5;&#xFF1A;</p>
<pre><code>cgdb redis-cli
</code></pre><p>&#x542F;&#x52A8;&#x540E;&#x7684;&#x754C;&#x9762;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://images.gitbook.cn/9bfbcf20-f1f6-11e8-9fa2-2b61cbf641db" alt="img"></p>
<p>&#x7136;&#x540E;&#x52A0;&#x4E24;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="https://images.gitbook.cn/b9032500-f1f6-11e8-b2e9-350578bd3de4" alt="img"></p>
<p>&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x7A0B;&#x5E8F;&#x7684; main ( &#x4E0A;&#x56FE;&#x4E2D;&#x7B2C; 2824 &#x884C; &#xFF09;&#x548C;&#x7B2C; 2832 &#x884C;&#x5206;&#x522B;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#x4EE5;&#x540E;&#xFF0C;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#x7684;&#x884C;&#x53F7;&#x5C06;&#x4F1A;&#x4EE5;&#x7EA2;&#x8272;&#x663E;&#x793A;&#xFF0C;&#x53E6;&#x5916;&#x6709;&#x4E00;&#x4E2A;&#x7EFF;&#x8272;&#x7BAD;&#x5934;&#x6307;&#x5411;&#x5F53;&#x524D;&#x6267;&#x884C;&#x7684;&#x884C;&#xFF08; &#x8FD9;&#x91CC;&#x7531;&#x4E8E;&#x5728; main &#x51FD;&#x6570;&#x4E0A;&#x52A0;&#x4E86;&#x4E2A;&#x65AD;&#x70B9;&#xFF0C;&#x7EFF;&#x8272;&#x7BAD;&#x5934;&#x6307;&#x5411;&#x7B2C;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#x4F4D;&#x7F6E; &#xFF09;&#x3002;&#x5355;&#x6B65;&#x8C03;&#x8BD5;&#x5E76;&#x6B65;&#x5165;&#x7B2C; 2827 &#x884C;&#x7684; sdsnew() &#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4EE3;&#x7801;&#x89C6;&#x56FE;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x4EE3;&#x7801;&#x4E5F;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x7EFF;&#x8272;&#x7BAD;&#x5934;&#x59CB;&#x7EC8;&#x6307;&#x5411;&#x5F53;&#x524D;&#x6267;&#x884C;&#x7684;&#x884C;&#x6570;&#xFF1A;</p>
<p><img src="https://images.gitbook.cn/cb32e800-f1f6-11e8-b2e9-350578bd3de4" alt="img"></p>
<p>&#x66F4;&#x591A; CGDB &#x7684;&#x7528;&#x6CD5;&#x53EF;&#x4EE5;&#x67E5;&#x9605;&#x5B98;&#x7F51;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53C2;&#x8003; CGDB &#x4E2D;&#x6587;&#x624B;&#x518C;&#xFF0C;<a href="https://github.com/leeyiw/cgdb-manual-in-chinese/blob/master/SUMMARY.md" target="_blank">&#x70B9;&#x51FB;&#x8FD9;&#x91CC;&#x53EF;&#x67E5;&#x770B;&#x8BE6;&#x60C5;</a>&#x3002;</p>
<h2 id="cgdb-&#x7684;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;">CGDB &#x7684;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;</h2>
<p>CGDB &#x867D;&#x7136;&#x5DF2;&#x7ECF;&#x6BD4;&#x539F;&#x59CB;&#x7684; GDB &#x548C; GDB TUI &#x6A21;&#x5F0F;&#x5728;&#x4EE3;&#x7801;&#x663E;&#x793A;&#x65B9;&#x9762;&#x6539;&#x8FDB;&#x4E86;&#x8BB8;&#x591A;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;CGDB &#x4E2D;&#x8C03;&#x7528; GDB &#x7684; print &#x547D;&#x4EE4;&#x65E0;&#x6CD5;&#x663E;&#x793A;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x4E2D;&#x6587;&#x5B57;&#x7B26;&#xFF0C;&#x8981;&#x4E48;&#x663E;&#x793A;&#x4E71;&#x7801;&#xFF0C;&#x8981;&#x4E48;&#x4E0D;&#x663E;&#x793A;&#xFF0C;&#x4F1A;&#x7ED9;&#x7A0B;&#x5E8F;&#x8C03;&#x8BD5;&#x5E26;&#x6765;&#x5F88;&#x5927;&#x7684;&#x56F0;&#x6270;&#xFF0C;&#x8FD9;&#x70B9;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x3002;</p>
<p>&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;CGDB &#x4ECD;&#x7136;&#x80FD;&#x6EE1;&#x8DB3;&#x6211;&#x4EEC;&#x5927;&#x591A;&#x6570;&#x573A;&#x666F;&#x4E0B;&#x7684;&#x8C03;&#x8BD5;&#xFF0C;&#x7455;&#x4E0D;&#x63A9;&#x745C;&#xFF0C; CGDB &#x5728; Linux &#x7CFB;&#x7EDF;&#x4E2D;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;&#x8FD8;&#x662F;&#x6BD4; GDB &#x65B9;&#x4FBF;&#x5F88;&#x591A;&#x3002;</p>
<h1 id="windows-&#x7CFB;&#x7EDF;&#x8C03;&#x8BD5;-linux-&#x7A0B;&#x5E8F;&#x2014;&#x2014;visualgdb">Windows &#x7CFB;&#x7EDF;&#x8C03;&#x8BD5; Linux &#x7A0B;&#x5E8F;&#x2014;&#x2014;VisualGDB</h1>
<p>VisualGDB &#x662F;&#x4E00;&#x6B3E; Visual Studio &#x63D2;&#x4EF6;&#xFF0C;&#x5B89;&#x88C5;&#x4EE5;&#x540E;&#x53EF;&#x4EE5;&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#x5229;&#x7528; Visual Studio &#x5F3A;&#x5927;&#x7684;&#x8C03;&#x8BD5;&#x529F;&#x80FD;&#x8C03;&#x8BD5; Linux &#x7A0B;&#x5E8F;&#x3002;&#x53EF;&#x80FD;&#x6709;&#x8BFB;&#x8005;&#x4F1A;&#x8BF4;&#xFF0C;&#x6700;&#x65B0;&#x7248;&#x7684; Visual Studio 2015 &#x6216;&#x8005; 2017 &#x4E0D;&#x662F;&#x81EA;&#x5E26;&#x4E86;&#x8C03;&#x8BD5; Linux &#x7A0B;&#x5E8F;&#x7684;&#x529F;&#x80FD;&#x5417;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD8;&#x8981;&#x518D;&#x88C5;&#x4E00;&#x6B3E;&#x63D2;&#x4EF6;&#x820D;&#x8FD1;&#x800C;&#x6C42;&#x8FDC;&#x5462;&#xFF1F;&#x5F88;&#x9057;&#x61BE;&#x7684;&#x662F;&#xFF0C;&#x7ECF;&#x6211;&#x6D4B;&#x8BD5; Visual Studio 2015 &#x6216;&#x8005; 2017 &#x81EA;&#x5E26;&#x7684;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;&#xFF0C;&#x53D1;&#x73B0;&#x5176;&#x529F;&#x80FD;&#x5F88;&#x9E21;&#x808B;&#xFF0C;&#x8C03;&#x8BD5;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684; Linux &#x5C0F;&#x7A0B;&#x5E8F;&#x8FD8;&#x53EF;&#x4EE5;&#xFF0C;&#x8C03;&#x8BD5;&#x590D;&#x6742;&#x7684;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;&#x7684; Linux &#x7A0B;&#x5E8F;&#x5C31;&#x529B;&#x4E0D;&#x4ECE;&#x5FC3;&#x4E86;&#x3002;</p>
<p>VisualGDB &#x662F;&#x4E00;&#x6B3E;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#xFF0C;<a href="https://visualgdb.com/" target="_blank">&#x70B9;&#x51FB;&#x8FD9;&#x91CC;&#x8BE6;&#x89C1;&#x5B98;&#x65B9;&#x7F51;&#x7AD9;</a>&#x3002;VisualGDB &#x672C;&#x8D28;&#x4E0A;&#x662F;&#x5229;&#x7528; SSH &#x534F;&#x8BAE;&#x8FDE;&#x63A5;&#x5230;&#x8FDC;&#x7A0B; Linux &#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528; Visual Studio &#x4EA7;&#x751F;&#x76F8;&#x5E94;&#x7684; GDB &#x547D;&#x4EE4;&#x901A;&#x8FC7;&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x4E0A;&#x7684; gdbserver &#x4F20;&#x9012;&#x7ED9; GDB &#x8C03;&#x8BD5;&#x5668;&#xFF0C;&#x5176;&#x4EE3;&#x7801;&#x9605;&#x8BFB;&#x529F;&#x80FD;&#x5EFA;&#x7ACB;&#x5728; samba &#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x4E0A;&#x3002;</p>
<p>&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x8FDC;&#x7A0B;&#x8C03;&#x8BD5; Linux &#x7A0B;&#x5E8F;&#x7684;&#x65B9;&#x6CD5;&#x6709;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x3002;</p>
<h2 id="&#x5229;&#x7528;-visualgdb-&#x8C03;&#x8BD5;&#x5DF2;&#x7ECF;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;">&#x5229;&#x7528; VisualGDB &#x8C03;&#x8BD5;&#x5DF2;&#x7ECF;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;</h2>
<p>&#x5982;&#x679C;&#x4E00;&#x4E2A; Linux &#x7A0B;&#x5E8F;&#x5DF2;&#x7ECF;&#x8FD0;&#x884C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; VisualGDB &#x7684;&#x8FDC;&#x7A0B; attach &#x529F;&#x80FD;&#x3002;&#x4E3A;&#x4E86;&#x6F14;&#x793A;&#x65B9;&#x4FBF;&#xFF0C;&#x6211;&#x4EEC;&#x5C06; Linux &#x673A;&#x5668;&#x4E0A;&#x7684; redis-server &#x8FD0;&#x884C;&#x8D77;&#x6765;&#xFF1A;</p>
<pre><code>[root@localhost src]# ./redis-server
</code></pre><p>&#x5B89;&#x88C5;&#x597D; VisualGDB &#x63D2;&#x4EF6;&#x4EE5;&#x540E;&#xFF0C;&#x5728; Visual Studio &#x7684;&#x201C;Tools&#x201D;&#x83DC;&#x5355;&#x9009;&#x62E9;&#x201C;Linux Source Cache Manager&#x201D;&#x83DC;&#x5355;&#x9879;&#xFF0C;&#x5F39;&#x51FA;&#x5982;&#x4E0B;&#x5BF9;&#x8BDD;&#x6846;&#xFF1A;</p>
<p><img src="https://images.gitbook.cn/b1d99410-f1f8-11e8-a886-5157ca7834b5" alt="img"></p>
<p>&#x5355;&#x51FB; Add &#x6309;&#x94AE;&#xFF0C;&#x914D;&#x7F6E;&#x6210;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8C03;&#x8BD5;&#x7684; Linux &#x7A0B;&#x5E8F;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x5730;&#x5740;&#x3001;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x3002;</p>
<p><img src="https://images.gitbook.cn/d87eeb60-f1f8-11e8-9fa2-2b61cbf641db" alt="img"></p>
<p>&#x7136;&#x540E;&#xFF0C;&#x5728;&#x201C;Debug&#x201D;&#x83DC;&#x5355;&#x9009;&#x62E9;&#x201C;Attach to Process...&#x201D;&#x83DC;&#x5355;&#x9879;&#xFF0C;&#x5F39;&#x51FA; Attach To Process &#x5BF9;&#x8BDD;&#x6846;&#xFF0C;Transport &#x7C7B;&#x578B;&#x9009; VisualGDB&#xFF0C;Qualifier &#x9009;&#x62E9;&#x521A;&#x624D;&#x6211;&#x4EEC;&#x914D;&#x7F6E;&#x7684; Linux &#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x8FDE;&#x63A5;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F1A;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x8FDB;&#x7A0B;&#x5217;&#x8868;&#x4E2D;&#x5F39;&#x51FA;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x7684;&#x8FDB;&#x7A0B;&#x5217;&#x8868;&#xFF0C;&#x9009;&#x62E9;&#x521A;&#x624D;&#x542F;&#x52A8;&#x7684; redis-server&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB; Attach &#x6309;&#x94AE;&#x3002;</p>
<p><img src="https://images.gitbook.cn/f7341850-f1f8-11e8-a886-5157ca7834b5" alt="img"></p>
<p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728; Visual Studio &#x4E2D;&#x8C03;&#x8BD5;&#x8FD9;&#x4E2A; Linux &#x8FDB;&#x7A0B;&#x4E86;&#x3002;</p>
<p><img src="https://images.gitbook.cn/1d77a090-f1f9-11e8-a886-5157ca7834b5" alt="img"></p>
<h2 id="&#x5229;&#x7528;-visualgdb-&#x4ECE;&#x5934;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;">&#x5229;&#x7528; VisualGDB &#x4ECE;&#x5934;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;</h2>
<p>&#x66F4;&#x591A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4ECE;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x5904;&#xFF0C;&#x5373; main() &#x51FD;&#x6570;&#x5904;&#x5F00;&#x59CB;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;&#x3002;&#x5728; Visual Studio &#x7684;&#x201C;DEBUG&#x201D;&#x83DC;&#x5355;&#x9009;&#x62E9;&#x201C;Quick Debug With GDB&#x201D;&#x83DC;&#x5355;&#x9879;&#xFF0C;&#x5728;&#x5F39;&#x51FA;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x914D;&#x7F6E;&#x597D; Linux &#x7A0B;&#x5E8F;&#x6240;&#x5728;&#x7684;&#x5730;&#x5740;&#x548C;&#x76EE;&#x5F55;&#xFF1A;</p>
<p><img src="https://images.gitbook.cn/3bf65430-f1f9-11e8-9fa2-2b61cbf641db" alt="img"></p>
<p>&#x5355;&#x51FB; Debug &#x6309;&#x94AE;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x8C03;&#x8BD5;&#x4E86;&#x3002;</p>
<p><img src="https://images.gitbook.cn/57b858d0-f1f9-11e8-b37f-7bcfd20d5d3a" alt="img"></p>
<p>&#x7A0B;&#x5E8F;&#x4F1A;&#x81EA;&#x52A8;&#x505C;&#x5728; main() &#x51FD;&#x6570;&#x5904;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x80FD;&#x5229;&#x7528;&#x5F3A;&#x5927;&#x7684; Visual Studio &#x5BF9; redis-server &#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; VisualGDB &#x63D0;&#x4F9B;&#x7684; GDB Session &#x7A97;&#x53E3;&#x76F4;&#x63A5;&#x8F93;&#x5165; GDB &#x7684;&#x539F;&#x59CB;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#x3002;</p>
<p><img src="https://images.gitbook.cn/731b2670-f1f9-11e8-a886-5157ca7834b5" alt="img"></p>
<p>&#x6CA1;&#x6709;&#x5DE5;&#x5177;&#x662F;&#x5B8C;&#x7F8E;&#x7684;&#xFF0C;VisualGDB &#x4E5F;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x7F3A;&#x70B9;&#xFF0C;&#x7528;&#x8FD9;&#x6B3E;&#x5DE5;&#x5177;&#x8C03;&#x8BD5; Linux &#x7A0B;&#x5E8F;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x5B58;&#x5728;&#x5361;&#x987F;&#x3001;&#x5EF6;&#x8FDF;&#x7B49;&#x73B0;&#x8C61;&#x3002;</p>
<p>&#x5361;&#x987F;&#x548C;&#x5EF6;&#x8FDF;&#x7684;&#x539F;&#x56E0;&#x4E00;&#x822C;&#x662F;&#x7531;&#x4E8E;&#x8C03;&#x8BD5;&#x8FDC;&#x7A0B; linux &#x673A;&#x5668;&#x4E0A;&#x7684;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x7F51;&#x7EDC;&#x4E0D;&#x7A33;&#x5B9A;&#x5BFC;&#x81F4;&#x7684;&#x3002;&#x5982;&#x679C;&#x8BFB;&#x8005;&#x8C03;&#x8BD5;&#x7A0B;&#x5E8F;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x662F;&#x672C;&#x673A;&#x865A;&#x62DF;&#x673A;&#x6216;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x5728;&#x7B14;&#x8005;&#x5B9E;&#x9645;&#x7684;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;VisualGDB &#x4E5F;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x7F3A;&#x70B9;&#xFF1A;</p>
<ul>
<li>VisualGDB &#x662F;&#x4E00;&#x6B3E;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x8D2D;&#x4E70;&#x3002;&#x5F53;&#x7136;&#x4E92;&#x8054;&#x7F51;&#x6216;&#x8BB8;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x5171;&#x4EAB;&#x7248;&#x672C;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x627E;&#x6765;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;&#x3002;</li>
<li>&#x7531;&#x4E8E; VisualGDB &#x662F;&#x5FE0;&#x5B9E;&#x5730;&#x628A;&#x7528;&#x6237;&#x7684;&#x56FE;&#x5F62;&#x5316;&#x64CD;&#x4F5C;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x6700;&#x7EC8;&#x8F6C;&#x6362;&#x4E3A;&#x8FDC;&#x7A0B; linux &#x673A;&#x5668;&#x4E0A;&#x7684;&#x547D;&#x4EE4;&#x5F97;&#x5230;&#x7ED3;&#x679C;&#x518D;&#x56FE;&#x5F62;&#x5316;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;GDB &#x672C;&#x8EAB;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x4EE3;&#x7801;&#x7684;&#x6682;&#x505C;&#x5904;&#x4F1A;&#x5B58;&#x5728;&#x5B9A;&#x4F4D;&#x4E0D;&#x51C6;&#x786E;&#x7684;&#x95EE;&#x9898;&#xFF0C;VisualGDB &#x4E5F;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</li>
</ul>
<h2 id="&#x6269;&#x5C55;&#x9605;&#x8BFB;">&#x6269;&#x5C55;&#x9605;&#x8BFB;</h2>
<p>&#x5173;&#x4E8E; GDB &#x7684;&#x8C03;&#x8BD5;&#x77E5;&#x8BC6;&#x9664;&#x4E86; GDB &#x81EA;&#x5E26;&#x7684; Help &#x624B;&#x518C;&#xFF0C;&#x56FD;&#x5916;&#x8FD8;&#x6709;&#x4E00;&#x672C;&#x6743;&#x5A01;&#x7684;&#x4E66;&#x7C4D; <em>Debugging with GDB&#xFF1A;The The gnu Source-Level Debugger</em> &#x7CFB;&#x7EDF;&#x5730;&#x4ECB;&#x7ECD;&#x4E86; GDB &#x8C03;&#x8BD5;&#x7684;&#x65B9;&#x65B9;&#x9762;&#x9762;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x627E;&#x6765;&#x9605;&#x8BFB;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x7ED9;&#x51FA;&#x4E66;&#x7684;&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#xFF0C;<a href="https://pan.baidu.com/s/1J_JFpzrwRa-u684CZEmWKQ" target="_blank">&#x8BF7;&#x70B9;&#x51FB;&#x8FD9;&#x91CC;&#x67E5;&#x770B;</a>&#x3002;</p>
<p><img src="https://images.gitbook.cn/669156d0-fc59-11e8-bc5b-ef0caf885561" alt="img"></p>
<p>GDB &#x8C03;&#x8BD5;&#x5BF9;&#x4E8E; Linux C++ &#x5F00;&#x53D1;&#x4EE5;&#x53CA;&#x9605;&#x8BFB;&#x4F17;&#x591A;&#x5F00;&#x6E90; C/C++ &#x9879;&#x76EE;&#x662F;&#x5982;&#x6B64;&#x7684;&#x91CD;&#x8981;&#xFF0C;&#x5E0C;&#x671B;&#x8BFB;&#x8005;&#x52A1;&#x5FC5;&#x638C;&#x63E1;&#x5B83;&#x3002;&#x638C;&#x63E1;&#x5B83;&#x7684;&#x65B9;&#x6CD5;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x627E;&#x70B9;&#x7A0B;&#x5E8F;&#x5C24;&#x5176;&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B9E;&#x9645;&#x8C03;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x770B;&#x770B;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x4E2D;&#x7684;&#x5404;&#x79CD;&#x4E2D;&#x95F4;&#x72B6;&#x6001;&#xFF0C;&#x5F88;&#x5FEB;&#x5C31;&#x80FD;&#x719F;&#x6089;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x547D;&#x4EE4;&#x4E86;&#x3002;</p>
<p>&#x5173;&#x4E8E; GDB &#x672C;&#x8EAB;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x5C31;&#x8FD9;&#x4E48;&#x591A;&#x4E86;&#x3002;&#x4ECE;&#x4E0B;&#x4E00;&#x8BFE;&#x5F00;&#x59CB;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x901A;&#x8FC7; GDB &#x6B63;&#x5F0F;&#x8C03;&#x8BD5; redis-server &#x548C; redis-cli &#x7684;&#x6E90;&#x7801;&#x6765;&#x5206;&#x6790;&#x5176;&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x6A21;&#x5757;&#x7ED3;&#x6784;&#x548C;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="网络抓包.html" class="navigation navigation-prev " aria-label="Previous page: 网络抓包">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="linux常用网络工具.html" class="navigation navigation-next " aria-label="Next page: linux常用网络工具">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"gdb调试","level":"1.4.2","depth":2,"next":{"title":"linux常用网络工具","level":"1.4.3","depth":2,"path":"实用技巧/linux常用网络工具.md","ref":"实用技巧/linux常用网络工具.md","articles":[]},"previous":{"title":"网络抓包","level":"1.4.1","depth":2,"path":"实用技巧/网络抓包.md","ref":"实用技巧/网络抓包.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"实用技巧/gdb调试.md","mtime":"2019-08-10T00:56:50.984Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-08-11T10:30:51.738Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

